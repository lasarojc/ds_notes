


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.1">
    
    
      
        <title>Tolerância a Falhas - Notas em Sistemas Distribuídos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.a676eddb.min.css">
      
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-PJX835H7DP","lasarojc.github.org/dsnotes"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    <body dir="ltr">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#tolerancia-a-falhas" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Notas em Sistemas Distribuídos" class="md-header-nav__button md-logo" aria-label="Notas em Sistemas Distribuídos">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" /></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            Notas em Sistemas Distribuídos
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Tolerância a Falhas
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z" /></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" /></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Notas em Sistemas Distribuídos" class="md-nav__button md-logo" aria-label="Notas em Sistemas Distribuídos">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12,8A3,3 0 0,0 15,5A3,3 0 0,0 12,2A3,3 0 0,0 9,5A3,3 0 0,0 12,8M12,11.54C9.64,9.35 6.5,8 3,8V19C6.5,19 9.64,20.35 12,22.54C14.36,20.35 17.5,19 21,19V8C17.5,8 14.36,9.35 12,11.54Z" /></svg>

    </a>
    Notas em Sistemas Distribuídos
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Prólogo" class="md-nav__link">
      Prólogo
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../intro/" title="Introdução" class="md-nav__link">
      Introdução
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../basics/" title="Fundamentos" class="md-nav__link">
      Fundamentos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../comm/" title="Comunicação" class="md-nav__link">
      Comunicação
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../arch/" title="Arquiteturas" class="md-nav__link">
      Arquiteturas
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../coord/" title="Coordenação" class="md-nav__link">
      Coordenação
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../time/" title="Tempo" class="md-nav__link">
      Tempo
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Tolerância a Falhas
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3,9H17V7H3V9M3,13H17V11H3V13M3,17H17V15H3V17M19,17H21V15H19V17M19,7V9H21V7H19M19,13H21V11H19V13Z" /></svg>
        </span>
      </label>
    
    <a href="./" title="Tolerância a Falhas" class="md-nav__link md-nav__link--active">
      Tolerância a Falhas
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependabilidade" class="md-nav__link">
    Dependabilidade
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelos" class="md-nav__link">
    Modelos
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../disdb/" title="Bancos de Dados" class="md-nav__link">
      Bancos de Dados
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../disfs/index.md" title="Sistemas de Arquivos" class="md-nav__link">
      Sistemas de Arquivos
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../tech/" title="Tecnologias" class="md-nav__link">
      Tecnologias
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../projeto/" title="Projeto" class="md-nav__link">
      Projeto
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#dependabilidade" class="md-nav__link">
    Dependabilidade
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#modelos" class="md-nav__link">
    Modelos
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  
                
                
                <h1 id="tolerancia-a-falhas">Tolerância a Falhas</h1>
<p>Neste capítulo discutiremos o quê são sistemas distribuídos, por quê os desenvolvemos, e damos uma visão geral de como isto é feito.</p>
<h2 id="dependabilidade">Dependabilidade</h2>
<p>Ao escrevermos nossos softwares, queremos que sejam usados para resolver problemas, mesmo que importância do problema esteja em um espectro bem vasto, indo, por exemplo, da execução de um cirurgia ocular remota, ao controle de uma usina hidrelétrica, à jogar truco contra um computador. Independentemente do problema sendo resolvido, gostaríamos de poder contar com o sistema, de poder depender nele para executar sua tarefa.
Desta situação, surge a ideia de dependabilidade, isto é, de um sistema ter a propriedade de que podemos depender do mesmo.</p>
<p>Em computação distribuída, componentes dependem uns dos outros para a realização de tarefas. Assim, componentes que quer ser "dependáveis" (do inglês, <em>dependable</em>), pois se não o forem, os demais componentes não poderão executar suas tarefas, rendendo o sistema como um todo inútil.</p>
<p>Assim, dizemos que um componente <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> depende de um componente <span><span class="MathJax_Preview">C'</span><script type="math/tex">C'</script></span> se a corretude do comportamento de <span><span class="MathJax_Preview">C</span><script type="math/tex">C</script></span> depende da corretude do componente <span><span class="MathJax_Preview">C'</span><script type="math/tex">C'</script></span>.
E que um componente é ``dependável'' (\emph{dependable}) na medida que outros podem depender dele.</p>
<p>De acordo com <a href="https://ieeexplore.ieee.org/document/1335465?arnumber=1335465">Laprie et al</a>, tem-se dependabilidade quando os seguintes atributos estão presentes.</p>
<ul>
<li>Disponibilidade (<em>Availability</em>) - Prontidão para uso.</li>
<li>Confiabilidade/Fiabilidade (*Reliability) - Continuidade do serviço.</li>
<li>Manutenabilidade (<em>Maintainability</em>) - Facilidade de reparo.</li>
<li>Segurança (<em>Safety</em>) - Tolerância a catástrofes.</li>
<li>Integridade (<em>Integrity</em>) - Tolerância a modificações.</li>
<li>Confidencialidade (*Confidentiality) - Informação somente a quem devido.</li>
</ul>
<p>A combinção das três últimas propriedades é também chamadas de Segurança (<em>Security</em>).</p>
<p>Como obstáculos para se conseguir estes atributos estão os seguintes obstáculos, ou ameaças:</p>
<ul>
<li>Fault - Falha (Falta): bug -- \lstinline|&lt;=| em vez de \lstinline|&lt;| (pode nunca afetar a execução).</li>
<li>Error - Erro  (Erro): manifestação do bug -- iteração passa do ponto. (Pode não ser observável pelo usuário.)</li>
<li>Failure - Defeito (Falha): problema visível -- tela azul</li>
</ul>
<h2 id="modelos">Modelos</h2>
<p>\section{Dependabilidade}
\subsection{Introdução}</p>
<p>\begin{frame}{Dependabilidade}
<script type="math/tex; mode=display">\begin{block}{}
    Um componente provê serviços a um cliente.\\ 
    Para prover o serviço, o componente pode \alert{depender} de outros.
\end{block}</script>
</p>
<div>
<div class="MathJax_Preview">\begin{block}{}
    Um componente $C$ depende de um componente $C'$ se a corretude do comportamento de $C$ depende da corretude do componente $C'$.
\end{block}</div>
<script type="math/tex; mode=display">\begin{block}{}
    Um componente $C$ depende de um componente $C'$ se a corretude do comportamento de $C$ depende da corretude do componente $C'$.
\end{block}</script>
</div>
<p>
<script type="math/tex; mode=display">\begin{block}{}
Um componente é ``dependável'' (\emph{dependable}) na medida que outros podem depender dele.
\end{block}</script>
\end{frame}</p>
<p>\begin{frame}{Dependabilidade}
O que queremos (Atributos)
\begin{itemize}
    \item Disponibilidade (\emph{Availability})-- Prontidão para uso.
    \item Confiabilidade/Fiabilidade (\emph{Reliability}) -- Continuidade do serviço.
    \item Manutenabilidade (\emph{Maintainability}) -- Facilidade de reparo.    \~ \~\</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Segurança (\emph{Safety}) -- Tolerância a catástrofes.
\item Integridade (\emph{Integrity}) -- Tolerância a modificações
\item Confidencialidade (\emph{Confidentiality}) -- Informação somente a quem devido.
\item Segurança (\emph{Security}) -- Soma dos três anteriores.
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}[fragile]{Dependabilidade}
O que gostaríamos de evitar (Ameaças)
\begin{itemize}
    \item Fault -- Falha (Falta): bug -- \lstinline|&lt;=| em vez de \lstinline|&lt;| (pode nunca afetar a execução).
    \item Error -- Erro  (Erro): manifestação do bug -- iteração passa do ponto. (Pode não ser observável pelo usuário.)
    \item Failure -- Defeito (Falha): problema visível -- tela azul
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}[fragile]{Dependabilidade}
O que gostaríamos de evitar (Ameaças)
\begin{itemize}
    \item Fault -- Falha (Falta): bug -- \lstinline|<=| em vez de \lstinline|<| (pode nunca afetar a execução).
    \item Error -- Erro  (Erro): manifestação do bug -- iteração passa do ponto. (Pode não ser observável pelo usuário.)
    \item Failure -- Defeito (Falha): problema visível -- tela azul
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Ariane 5}
``The Explosion of the Ariane 5</p>
<p>On June 4, 1996 an unmanned Ariane 5 rocket launched by the European Space Agency exploded just forty seconds after its lift-off [...] after a decade of development costing $7B. The destroyed rocket and its cargo were valued at $500M. [...] the failure was a software error [...] a 64 bit floating point number [...] was converted to a 16 bit signed integer. The number was larger than 32,767, the largest integer storeable in a 16 bit signed integer, and thus the conversion failed.''</p>
<p>\includegraphics[width=.7\textwidth]{images/ariane5}</p>
<p>\href{<a href="http://www-users.math.umn.edu/~arnold/disasters/ariane.html}{Fonte">http://www-users.math.umn.edu/~arnold/disasters/ariane.html}{Fonte</a>}
\end{frame}</p>
<p>O erro gerado foi tratado como input, causando outros erros, que geraram instabilidade e que levou o sistema a se auto-destruir.</p>
<p>\begin{frame}{Dependabilidade}
Como evitar (Meios)
\begin{itemize}
    \item Prevenção de falhas: \pause escreva sem bugs!\
    Especificações formais; prova de corretude; model checkers;...</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Remoção de falhas: \pause resolva seus bugs!\\
Testes; manutenção.

\item Previsão de falhas: \pause estime quando elas se manifestarão!
Reinicie processos frequentemente.

\item Tolerância a falhas: \pause conviva e mascare falhas.
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<p>\begin{frame}{Subaru SUVs -- 2018}
\includegraphics[width=.45\textwidth]{images/subaru}</p>
<p>\href{<a href="https://spectrum.ieee.org/riskfactor/computing/it/coding-error-leads-293-subaru-ascents-to-the-car-crusher}{Fonte">https://spectrum.ieee.org/riskfactor/computing/it/coding-error-leads-293-subaru-ascents-to-the-car-crusher}{Fonte</a>}
\end{frame}</p>
<p>\begin{frame}{Car Hack -- 2017}
\includegraphics[width=.4\textwidth]{images/carhack}</p>
<p>\href{<a href="https://www.wired.com/story/car-hack-shut-down-safety-features/}{Fonte">https://www.wired.com/story/car-hack-shut-down-safety-features/}{Fonte</a>}
\end{frame}</p>
<p>\begin{frame}{Tolerância a falhas}
Dependendo dos efeitos e tratamentos.
\begin{itemize}
    \item Fail safe -- defeito não leva a comportamento inseguro (sistema de entretenimento no avião)
    \item Fail soft -- graceful degradation (sistema de controle de vôo)
    \item Fail fast -- para o fluxo de defeitos (e possível reinício)</p>
<p>\vspace{1cm}</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Robusto -- erros não atrapalham execução (tratamento de exceções)
\item Quebradiço (\emph{brittle}) -- não resiliente a falhas
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Fail Fast -- Cadeia de supervisão}
\includegraphics[width=.7\textwidth]{images/httpatomoreillycomsourceoreillyimages300817}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Fail Fast -- Cadeia de supervisão}
\includegraphics[width=.7\textwidth]{images/httpatomoreillycomsourceoreillyimages300817}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Tolerância a Falhas -- Exemplos}
\begin{itemize}
    \item Pneu estepe
    \item Gerador de eletricidade em casa
    \item Calça extra na mala
    \item Uber, em vez do ônibus
\end{itemize}
\pause O que há de comum?
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Tolerância a Falhas -- Exemplos}
\begin{itemize}
    \item Pneu estepe
    \item Gerador de eletricidade em casa
    \item Calça extra na mala
    \item Uber, em vez do ônibus
\end{itemize}
\pause O que há de comum?
\end{frame}</script>
</div>
<p>\begin{frame}{Redundância}
Componentes extra, para uso em caso de defeitos. Ausência de um SPOF -- \emph{Single Point of Failure}
\pause
<script type="math/tex; mode=display">\begin{itemize}
    \item Mais projeto
    \item Mais testes
    \item Mais custo
    \item Mais tempo
    \item Peso extra
\end{itemize}</script>
</p>
<p>\pause Custo x Beneficio -- Custo da redundância, Probabilidade de falha, beneficio.\
\pause Pneu x Motor x Radio</p>
<p>\end{frame}</p>
<p>\begin{frame}[allowframebreaks]{Tipos de defeitos}
<script type="math/tex; mode=display">\begin{itemize}
    \item Quebra/Crash: componente para de funcionar.
    \begin{itemize}
        \item Fail-stop -- defeito é detectável (timeout, por exemplo).\\
        E se o problema for a rede?
        \item Fail-silent -- defeito pode não ser notável.
        \item Fail-recover -- voltam a executar.
    \end{itemize}</script>
</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Omissão: componente não executa ações.
\begin{itemize}
    \item Requisição não atendida
    \item Mensagem não transmitida
\end{itemize}

\item Temporização: prazos não são respeitados.

\item Arbitrária: qualquer coisa pode acontecer.
\begin{itemize}
    \item Resposta: ações são executadas incorretamente mas sem maldade.
    \item Arbitrária com detecção por falha de identificação
\end{itemize}
</code></pre></div>
</td></tr></table>

<p>\end{itemize}</p>
<p>Fail-stop <span><span class="MathJax_Preview">\in</span><script type="math/tex">\in</script></span> Quebra <span><span class="MathJax_Preview">\in</span><script type="math/tex">\in</script></span> Omissão <span><span class="MathJax_Preview">\in</span><script type="math/tex">\in</script></span> Temporização <span><span class="MathJax_Preview">\in</span><script type="math/tex">\in</script></span> Arbitrária</p>
<p>\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Resposta}
\begin{itemize}
    \item ALU defeituosa
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Resposta}
\begin{itemize}
    \item ALU defeituosa
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Arbitrária}
\begin{itemize}
    \item Bug
    \item Hacking
    \item Vírus
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Arbitrária}
\begin{itemize}
    \item Bug
    \item Hacking
    \item Vírus
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Prepare-se para a vida de desenvolvedor}
\begin{itemize}
    \item Falhas intermitentes -- e.g., picos de energia, comportamento emergente, 
    \item Heisenbugs -- inobservável
    \item Schroedinbugs -- inexistente até que observado
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Prepare-se para a vida de desenvolvedor}
\begin{itemize}
    \item Falhas intermitentes -- e.g., picos de energia, comportamento emergente, 
    \item Heisenbugs -- inobservável
    \item Schroedinbugs -- inexistente até que observado
\end{itemize}
\end{frame}</script>
</div>
<p>Heisenbug
The name may seem to rhyme well with Heisenberg, but the Heisenbug is actually "a bug that disappears or alters its behavior when one attempts to probe or isolate it." The Freenet Project describes a Heisenbug in certain Java virtual machines.</p>
<p>Bohrbug
The Bohrbug is a sort of antonym of the Heisenbug, as this bug does not disappear or alter its characteristics when it is researched.</p>
<p>Mandelbug
The Mandelbug, named after Benoit Mandelbrot (think Mandelbrot set), is a bug whose underlying causes are so complex and obscure as to make its behavior appear chaotic.</p>
<p>Schroedinbug
The Schroedinbug is a design or implementation bug in a program that doesn't manifest until someone reading source or using the program in an unusual way notices that it never should have worked, at which point the program promptly stops working for everybody until fixed. Here, an Office developer describes "stupid SQL tricks" to get rid of a "classic Schroedinbug." </p>
<div>
<div class="MathJax_Preview">\begin{frame}{Correlação entre falhas?}
N-Version programming
\begin{itemize}
    \item Múltiplos times
    \item Múltiplas implementações do mesmo sistema
    \item Falhas independentes
    \vspace{1cm}
    \item Custo maior
    \item Erros de especificação são reproduzidos
    \item Times diferentes, mas erros iguais
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Correlação entre falhas?}
N-Version programming
\begin{itemize}
    \item Múltiplos times
    \item Múltiplas implementações do mesmo sistema
    \item Falhas independentes
    \vspace{1cm}
    \item Custo maior
    \item Erros de especificação são reproduzidos
    \item Times diferentes, mas erros iguais
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Foco}
Falhas do tipo crash.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Foco}
Falhas do tipo crash.
\end{frame}</script>
</div>
<p>\begin{frame}{Redundância de Processos}
Como lidar com falhas de processos? </p>
<p>Tenha múltiplos, tal que se um falha, outros podem continuar executando o serviço.</p>
<p>
<script type="math/tex; mode=display">\begin{itemize}
    \item Ativo/Ativo
    \item Mestre/Escravo
    \item Replicação em cadeia
    \item ...
\end{itemize}</script>
\end{frame}</p>
<p>\subsection{Coordenação}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Coordenação}
Para replicar, precisamos coordenar as execuções dos processos, mas como?
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Coordenação}
Para replicar, precisamos coordenar as execuções dos processos, mas como?
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Uma história de três exércitos}
    \begin{itemize}
        \item A e B deve atacar C
        \item Se A e B atacam juntos, ganham
        \item Se atacarem separados, são ambos derrotados.
        \item Comunicação por mensageiros, 
        \begin{itemize}
            \item que podem se perder e levar muito tempo para chegar
            \item podem ser mortos no caminho
        \end{itemize}
    \pause
        \item Atacamos ao amanhecer! (relógios sincronizados)   
    \end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Uma história de três exércitos}
    \begin{itemize}
        \item A e B deve atacar C
        \item Se A e B atacam juntos, ganham
        \item Se atacarem separados, são ambos derrotados.
        \item Comunicação por mensageiros, 
        \begin{itemize}
            \item que podem se perder e levar muito tempo para chegar
            \item podem ser mortos no caminho
        \end{itemize}
    \pause
        \item Atacamos ao amanhecer! (relógios sincronizados)   
    \end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Uma história de três exércitos}
Será que A não mandou uma resposta? Será que A foi destruído? Será que o mensageiro morreu? Será que parou em um inferninho?
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Uma história de três exércitos}
Será que A não mandou uma resposta? Será que A foi destruído? Será que o mensageiro morreu? Será que parou em um inferninho?
\end{frame}</script>
</div>
<p>\begin{frame}{Uma história de três exércitos}
Como saber se o outro recebeu a mensagem e irá atacar ao mesmo tempo?</p>
<p>\pause
Mensagem de confirmação.
\end{frame}</p>
<p>\begin{frame}{Uma história de três exércitos}
Como saber se o um recebeu a confirmação?</p>
<p>\pause
Confirmação da confirmação!
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Uma história de três exércitos}
Como saber se o outro/um ...?
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Uma história de três exércitos}
Como saber se o outro/um ...?
\end{frame}</script>
</div>
<p>\begin{frame}{Uma história de três exércitos}
Nesse cenário, até simples, coordenar os dois processos é \alert{impossível}!</p>
<p>\pause É impossível garantir que chegarão a um \emph{acordo}.
\end{frame}</p>
<p>\section{Acordo}</p>
<p>\subsection{Comunicação em Grupo}
<script type="math/tex; mode=display">\begin{frame}{Acordo}
Dependendo do modelo, pode ser muito fácil ou impossível fazer com que um grupo de processos concorde sobre como agir/entre em acordo.
\end{frame}</script>
</p>
<p>Um dos fatores é como o grupo é organizado.</p>
<p>\begin{frame}{Grupos de Processos}
Grupos podem ser organizados de diferentes formas, dependendo da aplicação.</p>
<p>\includegraphics[width=.5\textwidth]{images/08-03}
\includegraphics[width=.45\textwidth]{images/chain}</p>
<p>Assumindo um grupo estático (sem entrada e saída de processos), em que todos conversam com todos diretamente (grafo completo).
\end{frame}</p>
<p>É mais fácil, mas não trivial neste modelo. Vejamos o problema de difusão confiável. Mas antes, vamos definir.</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Correto x Falho}
Um processo é correto se ele não falha.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Correto x Falho}
Um processo é correto se ele não falha.
\end{frame}</script>
</div>
<p>\begin{frame}{Difusão Confiável}
\begin{itemize}
    \item Corretude: Se um processo \alert{correto} <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> difunde uma mensagem <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para processos no grupo <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>, então todos os processos corretos em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> entregam a mensagem.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Acordo: Se um processo correto em $G$ entrega uma mensagem $m$, então todo processo correto em $G$ entrega $m$.

\item Validade: Somente mensagens difundidas são entregues.
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<p>\begin{frame}{Terminologia}
\begin{itemize}
    \item Enviar/Receber: rede
    \item Difundir/Entregar: difusão</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Corretude x Progresso
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Difusão Confiável}
Algoritmo?
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Difusão Confiável}
Algoritmo?
\end{frame}</script>
</div>
<p>\begin{frame}{Difusão Confiável}
Para <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> difundir <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>
<script type="math/tex; mode=display">\begin{itemize}
\item <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> envia <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para todo <span><span class="MathJax_Preview">q \in G</span><script type="math/tex">q \in G</script></span>
\item Todo processo <span><span class="MathJax_Preview">q\in G</span><script type="math/tex">q\in G</script></span> que receber a mensagem, envia <span><span class="MathJax_Preview">m_{ack}</span><script type="math/tex">m_{ack}</script></span> para <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span>
\item Ao receber ack de todos os processos <span><span class="MathJax_Preview">q \in G</span><script type="math/tex">q \in G</script></span>, <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> para de retransmitir e entrega <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>.
\end{itemize}</script>
</p>
<p>\pause Confiável? Isto é, satisfaz as duas propriedades?</p>
<p>\pause e se um dos receptores falhar?</p>
<p>\pause Assumamos detector de falhas perfeito.
\end{frame}</p>
<p>\begin{frame}{Difusão Confiável}
Para <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> difundir <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>
<script type="math/tex; mode=display">\begin{itemize}
    \item <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> envia <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para todo <span><span class="MathJax_Preview">q \in G</span><script type="math/tex">q \in G</script></span>
    \item Todo processo <span><span class="MathJax_Preview">q\in G</span><script type="math/tex">q\in G</script></span> que receber a mensagem, envia <span><span class="MathJax_Preview">m_{ack}</span><script type="math/tex">m_{ack}</script></span> para <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span>
    \item Ao receber ack de todos os processos \alert{corretos} <span><span class="MathJax_Preview">q \in G</span><script type="math/tex">q \in G</script></span>, <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> para de retransmitir e entrega <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>.
\end{itemize}</script>
</p>
<p>\pause Pq <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> só entrega <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> no final?
\end{frame}</p>
<p>\begin{frame}{Difusão Confiável}
Posso assumir TCP como protocolo de comunicação?</p>
<div>
<div class="MathJax_Preview">\begin{itemize}
    \item $p$ envia $m$ para $G$
    \item $p$ entrega $m$
\end{itemize}</div>
<script type="math/tex; mode=display">\begin{itemize}
    \item $p$ envia $m$ para $G$
    \item $p$ entrega $m$
\end{itemize}</script>
</div>
<p>\pause Não! TCP não é confiável neste sentido.
\end{frame}</p>
<p>\begin{frame}{Difusão Confiável}
Assuma máximo de <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> falhas, fail stop</p>
<p>
<script type="math/tex; mode=display">\begin{itemize}
\item <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> envia <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para processos em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>.
\item Todo processo <span><span class="MathJax_Preview">q \in G</span><script type="math/tex">q \in G</script></span> que receber <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>
\begin{itemize}
    \item envia <span><span class="MathJax_Preview">m_{ack}</span><script type="math/tex">m_{ack}</script></span>
    \item repassa <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> processos.
\end{itemize}</script>
\item Mensagens são retransmitidas de tempos em tempos.
\item Ao receber <span><span class="MathJax_Preview">f+1</span><script type="math/tex">f+1</script></span> acks, entrega <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>.
\end{itemize}
%<a href="https://www.youtube.com/watch?v=uzcALT7sHew">https://www.youtube.com/watch?v=uzcALT7sHew</a>
\end{frame}</p>
<p>\begin{frame}{Difusão Confiável}
Assuma máximo de <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> falhas e uso de TCP
<script type="math/tex; mode=display">\begin{itemize}
    \item <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> envia <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para processos em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>.
    \item Em caso de quebra/falha de conexão, substitua destinatário.
    \item Todo processo <span><span class="MathJax_Preview">q \in G</span><script type="math/tex">q \in G</script></span> que receber <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>, repassa <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para os outros  processos.
    \item Entrega <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>.
\end{itemize}</script>
</p>
<p>\pause Confiável? Somente se conexões quebradas for reestabelecidas e mensagens reenviadas.</p>
<p>\pause Escalável?
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Difusão Confiável FIFO}
\begin{itemize}
    \item Corretude.
    \item Acordo.   
    \item Validade.
    \item FIFO: Se $p$ difunde $m$ e então $n$, e se $q$ entrega $n$, então $q$ entrega $m$ antes $n$.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Difusão Confiável FIFO}
\begin{itemize}
    \item Corretude.
    \item Acordo.   
    \item Validade.
    \item FIFO: Se $p$ difunde $m$ e então $n$, e se $q$ entrega $n$, então $q$ entrega $m$ antes $n$.
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Difusão Totalmente Ordenada}
\begin{itemize}
\item Corretude: Se um processo <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> difunde uma mensagem <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para processos no grupo <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>, e se <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> não falha, então todos os processos corretos em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> entregam <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span></p>
<p>\item Acordo: Se um processo correto <span><span class="MathJax_Preview">q</span><script type="math/tex">q</script></span> em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> entrega uma mensagem <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>, então todo processo correto em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> entrega <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>.</p>
<p>\item Ordenação: Se um processo entrega mensagem <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> e depois <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span>, então qualquer processo que entregue a mensagem <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> deve primeiro entregar <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span>.</p>
<p>\item Validade: Somente mensagens difundidas são entregues.
\end{itemize}</p>
<p>\pause Algoritmo?
\pause Resolver diretamente este problema não é trivial. Por isso, veremos primeiro o problema do Consenso Distribuído.
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Consenso}
Sejam vários processos. Cada um propõe um único valor por \emph{instância de consenso}. O objetivo é decidir um dentre os valores propostos:
\begin{itemize}
    \item Validade: Somente um valor proposto pode ser decidido.
    \item Terminação: Todo processo não falho decide-se.
    \item Acordo: Se um processo decide-se por $v$ e outro por $w$, então $v = w$
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Consenso}
Sejam vários processos. Cada um propõe um único valor por \emph{instância de consenso}. O objetivo é decidir um dentre os valores propostos:
\begin{itemize}
    \item Validade: Somente um valor proposto pode ser decidido.
    \item Terminação: Todo processo não falho decide-se.
    \item Acordo: Se um processo decide-se por $v$ e outro por $w$, então $v = w$
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Consenso}
É impossível resolver deterministicamente o problema do consenso em sistema assíncrono sujeito a falhas. <script type="math/tex; mode=display">Fischer, Lynch, Patterson, 85</script>
</p>
<p>\pause Mas o consenso é resolvido frequentemente em sistemas assíncronos sujeitos a falhas. Isso porque normalmente estes sistemas se comportam sincronamente.
\end{frame}</p>
<p>\begin{frame}{Consenso}
Há diversos algoritmos de consenso que terminam quando o sistema se comporta bem. O mais famoso, atualmente, é o Paxos.</p>
<p>\href{<a href="http://paxos.systems/index.html}{Leia">http://paxos.systems/index.html}{Leia</a> mais aqui}
%TODO: Synod
%TODO: Paxos</p>
<p>\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Primitivas}
\begin{itemize}
    \item send\&amp;receive/enviar\&amp;receber -- rede
    \item propose\&amp;decide/propor\&amp;decidir -- consenso
    \item broadcast\&amp;deliver/difundir\&amp;entregar -- difusão
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Primitivas}
\begin{itemize}
    \item send\&receive/enviar\&receber -- rede
    \item propose\&decide/propor\&decidir -- consenso
    \item broadcast\&deliver/difundir\&entregar -- difusão
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Difusão Totalmente Ordenada}
Dado infinitas instâncias de consenso, pode-se usá-las para resolver difusão atômica:
\begin{itemize}
\item Ordene as instâncias de consenso.
\item Para difundir mensagem $m$, proponha a mensagem na menor instância $i$ em que não tiver visto uma decisão.
\item Se a decisão de $i$ não é $m$, volte para o passo anterior.
\item Entregue as decisões na ordem das instâncias.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Difusão Totalmente Ordenada}
Dado infinitas instâncias de consenso, pode-se usá-las para resolver difusão atômica:
\begin{itemize}
\item Ordene as instâncias de consenso.
\item Para difundir mensagem $m$, proponha a mensagem na menor instância $i$ em que não tiver visto uma decisão.
\item Se a decisão de $i$ não é $m$, volte para o passo anterior.
\item Entregue as decisões na ordem das instâncias.
\end{itemize}
\end{frame}</script>
</div>
<p>\subsection{Replicação de Máquinas de Estados}</p>
<p>\begin{frame}{Máquina de Estados Replicada}
Ativo/Ativo -- Se todos os processos executam a mesma sequência de comandos, todos avançam pelos mesmos estados.</p>
<p>
<script type="math/tex; mode=display">\begin{itemize}
    \item Mesmo estado inicial
    \item Comandos determinísticos
    \item Comandos causalmente relacionados são executados em mesma ordem
\end{itemize}</script>
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Máquina de Estados Replicada}
Possíveis ordens com mesmo efeito?
\begin{itemize}
\item \lstinline|touch /tmp/file1|
\item \lstinline|echo "teste testando" $&gt;&gt;$ /tmp/file2|
\item \lstinline|rm /tmp/file1|
\item \lstinline|mkdir /dir1|
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Máquina de Estados Replicada}
Possíveis ordens com mesmo efeito?
\begin{itemize}
\item \lstinline|touch /tmp/file1|
\item \lstinline|echo "teste testando" $>>$ /tmp/file2|
\item \lstinline|rm /tmp/file1|
\item \lstinline|mkdir /dir1|
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Difusão Causal}
Há diversos algoritmos, mas o mais recente e interessante é denominado Generalized Paxos.</p>
<p>Para saber mais, leia minha dissertação!
\end{frame}</p>
<p>\begin{frame}{Frameworks para Coordenação}
Diversos sistemas abstraem problemas de coordenação em sistemas distribuídos.</p>
<p>Estudaremos alguns nas aulas seguintes.
\end{frame}</p>
<p>Antes, vamos nos aprofundar no estudo de um protocolo de Consenso/Difusão atômica.</p>
<p>\subsection{RSM: Estudo de Caso do Raft}
<script type="math/tex; mode=display">\begin{frame}{Raft}
\url{http://thesecretlivesofdata.com/raft/}
\end{frame}</script>
</p>
<p>\section{Estudo de Caso: Paxos}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Paxos}
%\begin{itemize}
%   \item Sínodo (Synod): consenso
%   \item Paxos: Difusão Atômica
%\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Paxos}
%\begin{itemize}
%   \item Sínodo (Synod): consenso
%   \item Paxos: Difusão Atômica
%\end{itemize}
\end{frame}</script>
</div>
<p>\section{Estudo de caso: Atomix Copycat}
<script type="math/tex; mode=display">\begin{frame}{Atomix Copycat}
\begin{itemize}
\item Framework de replicação de máquinas de estados implementada pela Atomix. 
\item Implementação do Raft
\item API simples
\item Java 8 (lambdas e futures)
\item \url{http://atomix.io/copycat/}
\end{itemize}
\end{frame}</script>
</p>
<p>\begin{frame}[fragile,allowframebreaks]{Lambda}
\begin{itemize}
    \item Classe com um único método.
    \begin{lstlisting}[language=java]
class Tarefa implements Runnable {
  public void run(){
    while (true)
      System.out.println("Bem vindo a um loop infinito");
    } <br />
}</p>
<p>new Thread(new Tarefa()).start();
    \end{lstlisting}</p>
<p>\framebreak</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Classe anônima -- uso único
</code></pre></div>
</td></tr></table>

<div>
<div class="MathJax_Preview">\begin{lstlisting}[language=java]
new Thread( new Runnable() {
  public void run(){
    while (true)
      System.out.println("Bem vindo a um loop infinito");
  }   
}).start();
\end{lstlisting}</div>
<script type="math/tex; mode=display">\begin{lstlisting}[language=java]
new Thread( new Runnable() {
  public void run(){
    while (true)
      System.out.println("Bem vindo a um loop infinito");
  }   
}).start();
\end{lstlisting}</script>
</div>
<p>\framebreak</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Lambda
</code></pre></div>
</td></tr></table>

<div>
<div class="MathJax_Preview">\begin{lstlisting}[language=java]
new Thread(() -&gt; {
                     while (true)
                       System.out.println("Bem vindo a um loop infinito");
                   }).start();
\end{lstlisting}</div>
<script type="math/tex; mode=display">\begin{lstlisting}[language=java]
new Thread(() -> {
                     while (true)
                       System.out.println("Bem vindo a um loop infinito");
                   }).start();
\end{lstlisting}</script>
</div>
<p>\framebreak
   \item Encadeamento (fluent)
<script type="math/tex; mode=display">\begin{lstlisting}[language=java]
   Collection<Pessoa> c = ...;
   c.stream()
    .filter(p -> p.idade > 33)
    .map(Pessoa::sobrenomeNome)//.map(p -> p.sobrenomeNome())
    .forEach(s -> System.out.println(s));
\end{lstlisting}</script>
\end{itemize}
\end{frame}</p>
<p>\begin{frame}[fragile]{Future}
\begin{itemize}
    \item Promessa de computação e resultado.
<script type="math/tex; mode=display">\begin{lstlisting}[language=java]
ExecutorService executor = Executors.newSingleThreadExecutor();
Future<Integer> futFib = executor.submit(() -> { return Fibonacci(217)};
\end{lstlisting}</script>
</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Quando será executado? \pause Em algum momento.
\item Como pegar o resultado?
</code></pre></div>
</td></tr></table>

<p>\begin{lstlisting}[language=java]
while (!futFib.isDone())
  System.out.println("tah calculando...");</p>
<p>int fib217 = futFib.get();
\end{lstlisting}</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Em qual thread? \pause Em algum thread. Depende do Executor Service usado.
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Atomix-Raft}
\begin{itemize}
    \item Versão &gt;= 2 do copycat
    \item Melhor desempenho
    \item Documentação ruim
    \item \url{https://github.com/atomix/atomix}
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Atomix-Raft}
\begin{itemize}
    \item Versão >= 2 do copycat
    \item Melhor desempenho
    \item Documentação ruim
    \item \url{https://github.com/atomix/atomix}
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Lab}
\begin{itemize}
    \item Versão 1.1.4
    \item Baseado em \url{http://atomix.io/copycat/docs/getting-started/}
    \item Código funcional em \url{https://github.com/pluxos/atomix_labs}
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Lab}
\begin{itemize}
    \item Versão 1.1.4
    \item Baseado em \url{http://atomix.io/copycat/docs/getting-started/}
    \item Código funcional em \url{https://github.com/pluxos/atomix_labs}
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Clone e compile o projeto}
\begin{itemize}
    \item Instale dependências: git, maven e JDK &gt;= 1.8 (lembre-se que gRPC precisa de JDK &lt;= 1.8)
    \item git clone https://github.com/pluxos/atomix\_labs
    %https://www.baeldung.com/atomix
    \item cd atomix\_labs
    \item cd replication
    \item mvn compile
    \item mvn test
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Clone e compile o projeto}
\begin{itemize}
    \item Instale dependências: git, maven e JDK >= 1.8 (lembre-se que gRPC precisa de JDK <= 1.8)
    \item git clone https://github.com/pluxos/atomix\_labs
    %https://www.baeldung.com/atomix
    \item cd atomix\_labs
    \item cd replication
    \item mvn compile
    \item mvn test
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}[fragile]{mvn test}
Resultado esperado.
\begin{verbatim}
Tests run: 1, Failures: 0, Errors: 0, Skipped: 0</p>
<p>[INFO] ---------------------------------------
[INFO] BUILD SUCCESS
[INFO] ---------------------------------------
[INFO] Total time: 6.898 s
[INFO] Finished at: 2017-10-25T08:38:08-02:00
[INFO] Final Memory: 15M/159M
[INFO] ---------------------------------------
\end{verbatim}
\end{frame}</p>
<p>\begin{frame}{Estrutura}
Explore o projeto. Na pasta/URL \url{<a href="https://github.com/pluxos/atomix_labs/tree/master/replication/src/main/java/atomix_lab/state_machine">https://github.com/pluxos/atomix_labs/tree/master/replication/src/main/java/atomix_lab/state_machine</a>}</p>
<p>Há três pastas. Analise-as nesta ordem
<script type="math/tex; mode=display">\begin{itemize}
    \item type -- tipos dos dados mantidos pela replica (Edge e Vertex)\\
    Os tipos são serializable para que o Java saiba como transformá-los em bytes.
    \item command -- estruturas que contêm informações para modificar os tipos\\
    Os comandos serão enviadas do cliente para o cluster e são naturalmente serializable.
    \item client -- cria comandos e os envia para serem executados no cluster\\
    Respostas podem ser esperadas síncrona ou assincronamente.
    \item server -- recebe os comandos na ordem definida pelo Raft e os executa
\end{itemize}</script>
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Lab}
O projeto foi construído seguindo as instruções no tutorial mencionado antes, saltando-se a parte dos snapshots, isto é:
\begin{itemize}
    \item crie um projeto maven\\
    eclipse tem template para isso
    \item adicione dependências no pom.xml\\
    como so criei um projeto, coloquei as dependências tanto do cliente quando do servidor
    \item defina Command que modifiquem o estado das réplicas
    \item defina Queries que consultem o estado das réplicas
    \item implemente a réplica para lidar com os comandos
    \item implemente o cliente para emitir comandos
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Lab}
O projeto foi construído seguindo as instruções no tutorial mencionado antes, saltando-se a parte dos snapshots, isto é:
\begin{itemize}
    \item crie um projeto maven\\
    eclipse tem template para isso
    \item adicione dependências no pom.xml\\
    como so criei um projeto, coloquei as dependências tanto do cliente quando do servidor
    \item defina Command que modifiquem o estado das réplicas
    \item defina Queries que consultem o estado das réplicas
    \item implemente a réplica para lidar com os comandos
    \item implemente o cliente para emitir comandos
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Lab}
Para executar um servidor, você precisa passar como parâmetro
<script type="math/tex; mode=display">\begin{itemize}
    \item identificador do processo (inteiro)
    \item IP do processo com identificador 0
    \item porta do processo com identificar 0
    \item IP do processo com identificador 1
    \item porta do processo com identificar 1
    \item ...
\end{itemize}</script>
</p>
<p>Sabendo seu identificador, o servidor sabe em qual porta escutar e em quais IP/porta se conectar.
\end{frame}</p>
<p>\begin{frame}[fragile]{Lab}
Execute três servidores. Usando o maven, da linha de comando, fica assim:
\begin{tiny}
\begin{verbatim}
mvn exec:java \
  -Dexec.mainClass="atomix_lab.state_machine.server.GraphStateMachine" \
  -Dexec.args="0 127.0.0.1 5000 127.0.0.1 5001 127.0.0.1 5002"</p>
<p>mvn exec:java \
  -Dexec.mainClass="atomix_lab.state_machine.server.GraphStateMachine" \
  -Dexec.args="1 127.0.0.1 5000 127.0.0.1 5001 127.0.0.1 5002"</p>
<p>mvn exec:java \
  -Dexec.mainClass="atomix_lab.state_machine.server.GraphStateMachine" \
  -Dexec.args="2 127.0.0.1 5000 127.0.0.1 5001 127.0.0.1 5002"
\end{verbatim}
\end{tiny}
%As instruções, sem quebra, estão no README do repositório.
\end{frame}</p>
<p>\begin{frame}[fragile]{Lab}
O cliente não precisa de um identificador, apenas dos pares IP/porta dos servidores.
<script type="math/tex; mode=display">\begin{itemize}
    \item IP do processo com identificador 0
    \item porta do processo com identificar 0
    \item IP do processo com identificador 1
    \item porta do processo com identificar 1
    \item ...
\end{itemize}</script>
</p>
<p>Para executá-lo, use o comando
<script type="math/tex; mode=display">\begin{tiny}
\begin{verbatim}
mvn exec:java 
  -Dexec.mainClass="atomix_lab.state_machine.client.GraphClient"
  -Dexec.args="127.0.0.1 5000 127.0.0.1 5001 127.0.0.1 5002"
\end{verbatim}
\end{tiny}</script>
</p>
<p>\end{frame}</p>
<p>
<script type="math/tex; mode=display">\begin{frame}{Exercício}
Uma vez executado o projeto, modifique-o para incluir uma nova operação (Command) e nova consulta (Query). 
\end{frame}</script>
\section{Serviços de Coordenação}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Serviços de Coordenação}
\begin{itemize}
    \item Zookeeper
    \item Atomix
    \item OpenReplica
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Serviços de Coordenação}
\begin{itemize}
    \item Zookeeper
    \item Atomix
    \item OpenReplica
\end{itemize}
\end{frame}</script>
</div>
<p>\subsection{Estudo de Caso: ZooKeeper}</p>
<p>\subsubsection{Visão Geral}
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\begin{center}
\includegraphics{images/zklogo}
\end{center}
\url{http://zookeeper.apache.org/}
\end{frame}</script>
</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\begin{block}{Zoo?}
Porquê sistemas distribuídos são como zoológicos, com animais de diversas espécies, sendo obrigados a conviver de forma anti-natural.
\end{block}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\begin{block}{Zoo?}
Porquê sistemas distribuídos são como zoológicos, com animais de diversas espécies, sendo obrigados a conviver de forma anti-natural.
\end{block}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\begin{block}{O quê?}
ZooKeeper is a \alert{centralized} service for maintaining \alert{configuration} information, \alert{naming}, providing distributed \alert{synchronization}, and providing \alert{group services}. All of these kinds of services are used in some form or another by \alert{distributed applications}. Each time they are implemented there is a lot of work that goes into fixing the bugs and race conditions that are inevitable. Because of the difficulty of implementing these kinds of services, applications initially usually skimp on them, which make them brittle in the presence of change and difficult to manage. Even when done correctly, different implementations of these services lead to management \alert{complexity} when the applications are deployed.
\end{block}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\begin{block}{O quê?}
ZooKeeper is a \alert{centralized} service for maintaining \alert{configuration} information, \alert{naming}, providing distributed \alert{synchronization}, and providing \alert{group services}. All of these kinds of services are used in some form or another by \alert{distributed applications}. Each time they are implemented there is a lot of work that goes into fixing the bugs and race conditions that are inevitable. Because of the difficulty of implementing these kinds of services, applications initially usually skimp on them, which make them brittle in the presence of change and difficult to manage. Even when done correctly, different implementations of these services lead to management \alert{complexity} when the applications are deployed.
\end{block}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\begin{block}{O quê?}
    ZooKeeper is a \alert{distributed}, open-source \alert{coordination service for distributed applications}. It exposes a \alert{simple set of primitives} that distributed applications can build upon to implement higher level services for synchronization, configuration maintenance, and groups and naming. It is designed to be easy to program to, and uses a data model styled after the familiar \alert{directory tree structure of file systems}. It runs in Java and has bindings for both \alert{Java} and \alert{C}.
\end{block}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\begin{block}{O quê?}
    ZooKeeper is a \alert{distributed}, open-source \alert{coordination service for distributed applications}. It exposes a \alert{simple set of primitives} that distributed applications can build upon to implement higher level services for synchronization, configuration maintenance, and groups and naming. It is designed to be easy to program to, and uses a data model styled after the familiar \alert{directory tree structure of file systems}. It runs in Java and has bindings for both \alert{Java} and \alert{C}.
\end{block}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\begin{block}{Por quê?}
    Coordination services are notoriously hard to get right. They are especially prone to errors such as race conditions and deadlock. The motivation behind ZooKeeper is to relieve distributed applications the responsibility of implementing coordination services from scratch.
\end{block}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\begin{block}{Por quê?}
    Coordination services are notoriously hard to get right. They are especially prone to errors such as race conditions and deadlock. The motivation behind ZooKeeper is to relieve distributed applications the responsibility of implementing coordination services from scratch.
\end{block}
\end{frame}</script>
</div>
<p>\begin{frame}{ZooKeeper}
<script type="math/tex; mode=display">\begin{block}{Como?}
    ZooKeeper allows distributed processes to coordinate with each other through a \alert{shared hierarchal namespace which is organized similarly to a standard file system}. The name space consists of data registers - called \alert{znodes}, in ZooKeeper parlance - and these are \alert{similar to files and directories}. Unlike a typical file system, which is designed for storage, ZooKeeper data is kept \alert{in-memory}, which means ZooKeeper can achieve \alert{high throughput and low latency} numbers.
\end{block}</script>
</p>
<p>\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\includegraphics[width=.7\textwidth]{images/zknamespace}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\includegraphics[width=.7\textwidth]{images/zknamespace}
\end{frame}</script>
</div>
<p>\begin{frame}{ZooKeeper}
<script type="math/tex; mode=display">\begin{block}{Como?}
    ZooKeeper is replicated.\\
    ZooKeeper is ordered.
\end{block}</script>
</p>
<p>\includegraphics[width=1\textwidth]{images/zkservice}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\includegraphics[width=1\textwidth]{images/zkcomponents}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\includegraphics[width=1\textwidth]{images/zkcomponents}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{ZooKeeper}
\begin{block}{Como?}
    ZooKeeper is fast [...] and it performs best where reads are more common than writes, at ratios of around 10:1.
\end{block}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZooKeeper}
\begin{block}{Como?}
    ZooKeeper is fast [...] and it performs best where reads are more common than writes, at ratios of around 10:1.
\end{block}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Desempenho}
    \includegraphics[width=1\textwidth]{images/zkperfRW_3_2}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Desempenho}
    \includegraphics[width=1\textwidth]{images/zkperfRW_3_2}
\end{frame}</script>
</div>
<p>\subsubsection{Uso}
\begin{frame}{ZNodes}
\includegraphics[width=.6\textwidth]{images/zknamespace}</p>
<p>
<script type="math/tex; mode=display">\begin{itemize}
    \item Arquivo e diretório ao mesmo tempo.
    \item São (devem ser) pequenos.
    \item Operados atomicamente: todo o dado é lido/escrito.
    \item API simples
        \begin{itemize}
            \item C: create
            \item R: get
            \item U: set
            \item D: delete
            \item *: get children
        \end{itemize}</script>
\end{itemize}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}[fragile]{Lab}
\begin{itemize}
    \item Download: wget \url{www-eu.apache.org/dist/zookeeper/zookeeper-3.4.10}
    \item Unpack: tar xvzf zookeeper*.tgz
    \item Config: \verb|conf/zoo.cfg| $\Leftarrow$ Copie o exemplo\\
    %\verb|tickTime=2000|\\
    %\verb|dataDir=/tmp/seuNome/zk0| $\Leftarrow$\\
    %\verb|clientPort=2181| $\Leftarrow$
    \item \verb|./bin/zkServer.sh start-foreground|
    \item \verb|./bin/zkCli.sh -server 127.0.0.1:2181| $\Leftarrow$
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}[fragile]{Lab}
\begin{itemize}
    \item Download: wget \url{www-eu.apache.org/dist/zookeeper/zookeeper-3.4.10}
    \item Unpack: tar xvzf zookeeper*.tgz
    \item Config: \verb|conf/zoo.cfg| $\Leftarrow$ Copie o exemplo\\
    %\verb|tickTime=2000|\\
    %\verb|dataDir=/tmp/seuNome/zk0| $\Leftarrow$\\
    %\verb|clientPort=2181| $\Leftarrow$
    \item \verb|./bin/zkServer.sh start-foreground|
    \item \verb|./bin/zkCli.sh -server 127.0.0.1:2181| $\Leftarrow$
\end{itemize}
\end{frame}</script>
</div>
<p>\frame{Exemplo}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZNodes}
\begin{itemize}
    \item Stat(istics): versão, ACL, timestamps.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZNodes}
\begin{itemize}
    \item Stat(istics): versão, ACL, timestamps.
\end{itemize}
\end{frame}</script>
</div>
<p>\frame{Exemplo}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZNodes}
\begin{itemize}
    \item Updates condicionais.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZNodes}
\begin{itemize}
    \item Updates condicionais.
\end{itemize}
\end{frame}</script>
</div>
<p>\frame{Exemplo}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZNodes}
\begin{itemize}
    \item Nós efêmeros: presentes enquanto a sessão que os criou estiver ativa.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZNodes}
\begin{itemize}
    \item Nós efêmeros: presentes enquanto a sessão que os criou estiver ativa.
\end{itemize}
\end{frame}</script>
</div>
<p>\frame{Exemplo}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{ZNodes}
\begin{itemize}
    \item Watches: notificam clientes de mudanças no nó ou em seus filhos.
    \item Uso único.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{ZNodes}
\begin{itemize}
    \item Watches: notificam clientes de mudanças no nó ou em seus filhos.
    \item Uso único.
\end{itemize}
\end{frame}</script>
</div>
<p>\frame{Exemplo}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Durabilidade?}
Todas as operações são colocadas em um log em disco.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Durabilidade?}
Todas as operações são colocadas em um log em disco.
\end{frame}</script>
</div>
<p>\subsubsection{Receitas}
<script type="math/tex; mode=display">\begin{frame}{Receitas}
É possível resolver diversos problemas encontrados em sistemas distribuídos usando-se o ZooKeeper.
\end{frame}</script>
</p>
<p>\begin{frame}{Rendezvous}
Ponto de encontro de processos. \pause</p>
<p>
<script type="math/tex; mode=display">\begin{itemize}
    \item Defina um zNode raiz a ser usado: /rendezvous/app1/ \pause
    \item Cada filho de /rendezvous/app1 corresponde a um processo:
        \begin{itemize}
            \item IP
            \item Porta
            \item Número de processadores
            \item ...
        \end{itemize}</script>
    \item Processo p ao ser iniciado:
        <script type="math/tex; mode=display">\begin{itemize}
            \item procura /rendezvous/app1/p
            \begin{itemize}
                \item se achar, continua
                \item se não achar, cria /rendezvous/app1/p
            \end{itemize}</script>
            \item lista os filhos de /rendezvous/app1
        \end{itemize}
\end{itemize}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Como lidar com saída de processos?}
\pause Faça todos os zNodes são efêmeros. \\
Quando um nó é desconectado, o zNode correspondente será destruído.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Como lidar com saída de processos?}
\pause Faça todos os zNodes são efêmeros. \\
Quando um nó é desconectado, o zNode correspondente será destruído.
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Como detectar mudanças no grupo de processos?}
Monitore os filhos de /rendezvous/app1\\
Sempre que receber notificações, refaça o cálculo do \emph{membership}.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Como detectar mudanças no grupo de processos?}
Monitore os filhos de /rendezvous/app1\\
Sempre que receber notificações, refaça o cálculo do \emph{membership}.
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Eleição de Líderes}
\pause Rendezvous.\\
\pause Faça os zNodes sequenciais.
\pause Ordene os zNodes e escolha o primeiro.
\pause Monitore o zNode. Se ele sumir, eleja outro líder.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Eleição de Líderes}
\pause Rendezvous.\\
\pause Faça os zNodes sequenciais.
\pause Ordene os zNodes e escolha o primeiro.
\pause Monitore o zNode. Se ele sumir, eleja outro líder.
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Exclusão Mútua}
Construa uma fila usando nós efêmeros e sequenciais. O processo na cabeça da fila tem direito de acesso. Em caso de falhas, o processo é removido da cabeça da fila.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Exclusão Mútua}
Construa uma fila usando nós efêmeros e sequenciais. O processo na cabeça da fila tem direito de acesso. Em caso de falhas, o processo é removido da cabeça da fila.
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Compartilhamento de Parâmetros de Configuração}
Pronto!
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Compartilhamento de Parâmetros de Configuração}
Pronto!
\end{frame}</script>
</div>
<p>\begin{frame}{Receitas}
<script type="math/tex; mode=display">\begin{itemize}
    \item Lock distribuído
    \item Filas, e.g. de prioridades
    \item Barreira
    \item Serviço de nomes
    \item Terminação em duas fases
    \item Contador atômico
\end{itemize}</script>
</p>
<p>\url{<a href="http://zookeeper.apache.org/doc/trunk/recipes.html">http://zookeeper.apache.org/doc/trunk/recipes.html</a>}
\end{frame}</p>
<p>\begin{frame}{Curator}
\includegraphics{images/curator-logo}</p>
<p>Um livro de receitas implementadas em ZK.</p>
<p>\url{<a href="http://curator.apache.org">http://curator.apache.org</a>}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Lab}
    \begin{itemize}
        \item Crie um zNode /teste
        \item Debaixo de /teste, crie três outros, sequenciais
    \end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Lab}
    \begin{itemize}
        \item Crie um zNode /teste
        \item Debaixo de /teste, crie três outros, sequenciais
    \end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Lab}
\begin{itemize}
    \item Crie um zNode /teste2
    \item Crie um zNode efêmero
    \item Conecte-se com outro cliente
    \item Coloque um watch em /teste2
    \item Desconecte o primeiro cliente
    \item Observe o evento gerado no segundo cliente
    \item Reconecte o primeiro cliente
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Lab}
\begin{itemize}
    \item Crie um zNode /teste2
    \item Crie um zNode efêmero
    \item Conecte-se com outro cliente
    \item Coloque um watch em /teste2
    \item Desconecte o primeiro cliente
    \item Observe o evento gerado no segundo cliente
    \item Reconecte o primeiro cliente
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}[fragile]{Multi-node}
Crie três arquivos, zoo1.cfg, zoo2.cfg e zoo3.cfg.\Por exemplo, zoo1.cfg fica assim:
\begin{itemize}
    \item \verb|dataDir=/tmp/lasaro/zoo1| <span><span class="MathJax_Preview">\Leftarrow</span><script type="math/tex">\Leftarrow</script></span> Diretórios distintos.
    \item \verb|server.1=zoo1:2888:3888| <span><span class="MathJax_Preview">\Leftarrow</span><script type="math/tex">\Leftarrow</script></span> Portas distintas.
    \item \verb|server.2=zoo2:2889:3889|
    \item \verb|server.3=zoo3:2890:3890|
    \item \verb|clientPort=2181| <span><span class="MathJax_Preview">\Leftarrow</span><script type="math/tex">\Leftarrow</script></span> Portas distintas.</p>
<p>\end{itemize}</p>
<p>Crie diretórios e arquivos de identificação.
<script type="math/tex; mode=display">\begin{itemize}
    \item \verb|mkdir /tmp/lasaro/zoo1|
    \item \verb|echo 1 > /tmp/lasaro/zoo1/myid|
\end{itemize}</script>
</p>
<p>Execute servidores.
<script type="math/tex; mode=display">\begin{itemize}
    \item \verb|./bin/zkServer.sh start conf/zoo1.cfg|
\end{itemize}</script>
</p>
<p>Use \verb|start-foreground| para acompanhar a execução.</p>
<p>\end{frame}</p>
<p>
<script type="math/tex; mode=display">\begin{frame}{Lab}
\begin{itemize}
    \item Crie um znode /contador com valor 0
    \item Descreva como fazer para que os clientes incrementem atomicamente o valor de /contador.
\end{itemize}
\end{frame}</script>
\subsection{Falhas Bizantinas}</p>
<p>\begin{frame}{Uma história de três exércitos -- Versão 2}
Exércitos estão às portas de Bizâncio, aka Constantinopla, aka Istambul.</p>
<p>Todos os exércitos tem que atacar em conjunto ou se retirar em conjunto.</p>
<p>Cada exército é comandado por um General. Alguns destes preferem atacar, enquanto outros preferem se retirar.</p>
<p>Alguns generais podem ter sido comprados, e mandar mensagens discrepantes para os outros, ou simplesmente não mandar mensagens.</p>
<p>Fonte: \href{<a href="http://research.microsoft.com/en-us/um/people/lamport/pubs/byz.pdf}{Lamport">http://research.microsoft.com/en-us/um/people/lamport/pubs/byz.pdf}{Lamport</a>, L.; Shostak, R.; Pease, M. (1982). "The Byzantine Generals Problem" (PDF). ACM Transactions on Programming Languages and Systems. 4 (3): 382–401. doi:10.1145/357172.357176.}
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Generais e Tenentes}
Problema pode ser mudado para:
\begin{itemize}
    \item Comandante envia ordem.
    \item Todos os tenentes leais executam ordem recebida.
    \item Comandante pode ser traidor.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Generais e Tenentes}
Problema pode ser mudado para:
\begin{itemize}
    \item Comandante envia ordem.
    \item Todos os tenentes leais executam ordem recebida.
    \item Comandante pode ser traidor.
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Generais e Tenentes}
Suponha 3 exércitos. \
Comandante (traidor) diz "Ataque!" Tenente A e "Retirada!" tenente B.\
Ou \
Comandante diz "Ataque!" a ambos. Tenente A segue a ordem mas B se retira.</p>
<p>\pause E se os tenentes trocarem informações?</p>
<p>\pause Como diferenciar casos em que Comandante ou Tenente é traidor?
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Generais e Tenentes}
Só há solução se mais de $\frac{2}{3}$ dos Generais/Tenentes são leais.
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Generais e Tenentes}
Só há solução se mais de $\frac{2}{3}$ dos Generais/Tenentes são leais.
\end{frame}</script>
</div>
<p>%<a href="http://www.drdobbs.com/cpp/the-byzantine-generals-problem/206904396?pgno=5">http://www.drdobbs.com/cpp/the-byzantine-generals-problem/206904396?pgno=5</a></p>
<div>
<div class="MathJax_Preview">\begin{frame}{Comunicação}
\begin{itemize}
    \item Toda mensagem enviada é entregue corretamente.
    \item A ausência de mensagem pode ser detectada (mensagem Null é entregue no lugar) (Sistema síncrono)
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Comunicação}
\begin{itemize}
    \item Toda mensagem enviada é entregue corretamente.
    \item A ausência de mensagem pode ser detectada (mensagem Null é entregue no lugar) (Sistema síncrono)
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{4/0}
General manda ordens.</p>
<p>Ausência de ordem = Retirada</p>
<p>Tenente repassa ordens</p>
<p>Maioria de comandos é comando a ser seguido
\end{frame}</p>
<p>\begin{frame}{4/0}
General manda ordens.</p>
<p>Ausência de ordem = Retirada</p>
<p>Tenente repassa ordens</p>
<p>Maioria de comandos é comando a ser seguido
\end{frame}</p>
<p>\begin{frame}{Comunicação}
<script type="math/tex; mode=display">\begin{itemize}
    \item Toda mensagem enviada é entregue corretamente.
    \item Toda mensagem é assinada.
    \item A ausência de mensagem pode ser detectada (mensagem Null é entregue no lugar) (Sistema síncrono)
\end{itemize}</script>
</p>
<p>\pause É possível detectar inconsistências e processos bizantinos.
\end{frame}</p>
<p>%<a href="http://cs.brown.edu/courses/cs138/s16/lectures/19consen-notes.pdf">http://cs.brown.edu/courses/cs138/s16/lectures/19consen-notes.pdf</a>
\section{Outros tópicos}</p>
<p>%TODO \subsection{Detectores de Falhas}</p>
<p>\subsection{Reconfiguração}</p>
<p>\begin{frame}{Reconfiguração da Aplicação}
Na segunda entrega do projeto, você distribuiu a carga do seu banco de dados entre vários nós. Caso um nó falhe, parte dos seus dados será perdida.</p>
<p>Para corrigir esta deficiência, na terceira entrega, cada nó será replicado em três vias e, assim, caso um nó falhe, outros dois continuarão a manter o dado.</p>
<p>\end{frame}</p>
<p>\begin{frame}{Reconfiguração da Aplicação}
Ainda assim, há problemas. E se mais de um, de um mesmo conjunto de réplicas, falhar? </p>
<p>\pause Embora seja pequena a probabilidade de dois nós de um mesmo grupo falharem em instantes próximos, dado tempo suficiente, qualquer evento com probabilidade diferente de 0 acontecerá.</p>
<p>\pause Precisamos de uma forma de trocar nós da aplicação que falharam por novos nós. </p>
<p>Este é problema denominado Pertinência de Grupo ou \emph{Group Membership}
\end{frame}</p>
<p>\begin{frame}{Group Membership}
Para não correr o risco, retire o processo falhos do grupo e coloque outro no lugar!</p>
<p>I.e., mude a visão que o sistema de quem é o grupo.
\end{frame}</p>
<p>\begin{frame}{Visões}
\includegraphics[width=.7\textwidth]{images/vc}</p>
<p>Fonte: \href{<a href="https://www.cs.rutgers.edu/~pxk/417/notes/virtual_synchrony.html}{Paul">https://www.cs.rutgers.edu/~pxk/417/notes/virtual_synchrony.html}{Paul</a> Krzyzanowski}</p>
<p><span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> é o grupo de processos participando do sistema, é a Visão do Sistema.
\end{frame}</p>
<p>Inicialmente, <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> consiste de apenas o processo <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span>, como o processo que cria o cluster no Atomix. Na sequência, outros processo vão se unindo ao grupo através de View Changes. Uma vez que <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> e <span><span class="MathJax_Preview">q</span><script type="math/tex">q</script></span> estão no grupo, inicia-se a comunicação entre eles. Quando <span><span class="MathJax_Preview">r, s</span><script type="math/tex">r, s</script></span> e <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> aparecem, também entram no grupo por meio de uma nova visão.</p>
<p>Finalmente, quando ambos <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> e <span><span class="MathJax_Preview">q</span><script type="math/tex">q</script></span> falham, os outros processo os excluem da visão, e continuam funcionando normalmente.</p>
<p>\begin{frame}{Impossibilidade de Detecção de Falhas}
Em um sistema distribuído assíncrono, é impossível distinguir com toda certeza um processo falho (parou de funcionar) de um que está lento.</p>
<p>\pause Como decidir se mudar ou não de visão?
\end{frame}</p>
<p>Ou aceita a imprecisão e muda quando suspeitar de uma falha, ou corre o risco de ficar esperando \emph{ad eternum} e não mudar, mesmo quando uma falha aconteceu.</p>
<p>\begin{frame}{Uma ``solução''!}
Quando suspeitar de falha, reporte suspeita a outros processos, que também passarão a suspeitar.</p>
<p>Tome decisão baseado na suspeita, isto é, troque de visão quando houver suspeita.</p>
<p>Pague o preço de uma suspeita errada, isto é, quando um processo for removido da visão indevidamente, adicione-o novamente.
\end{frame}</p>
<div>
<div class="MathJax_Preview">\begin{frame}{Sincronismos Virtual}
Gerenciamento de Grupo/Group Membership e Comunicação em Grupo
\begin{itemize}
    \item Processos se unem ao grupo
    \item Processos saem do grupo
    \item Processos enviam mensagens para o grupo
    \item Diferentes ordenações
        \begin{itemize}
            \item Atomic Multicast
        \end{itemize}
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Sincronismos Virtual}
Gerenciamento de Grupo/Group Membership e Comunicação em Grupo
\begin{itemize}
    \item Processos se unem ao grupo
    \item Processos saem do grupo
    \item Processos enviam mensagens para o grupo
    \item Diferentes ordenações
        \begin{itemize}
            \item Atomic Multicast
        \end{itemize}
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Visão de Grupo}
\begin{itemize}
    \item Visão: conjunto de processos no sistema.
    \item Multicast feito para processos na visão.
    \item Visão é consistente entre os processos.
    \item Entrada e saída de processos muda a visão.
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Visão de Grupo}
\begin{itemize}
    \item Visão: conjunto de processos no sistema.
    \item Multicast feito para processos na visão.
    \item Visão é consistente entre os processos.
    \item Entrada e saída de processos muda a visão.
\end{itemize}
\end{frame}</script>
</div>
<div>
<div class="MathJax_Preview">\begin{frame}{Eventos}
\begin{itemize}
    \item Mensagem
    \item Mudança de Visão
    \item Checkpoint
\end{itemize}
\end{frame}</div>
<script type="math/tex; mode=display">\begin{frame}{Eventos}
\begin{itemize}
    \item Mensagem
    \item Mudança de Visão
    \item Checkpoint
\end{itemize}
\end{frame}</script>
</div>
<p>\begin{frame}{Visões}
\includegraphics[width=.7\textwidth]{images/vc}</p>
<p>Fonte: \href{<a href="https://www.cs.rutgers.edu/~pxk/417/notes/virtual_synchrony.html}{Paul">https://www.cs.rutgers.edu/~pxk/417/notes/virtual_synchrony.html}{Paul</a> Krzyzanowski}
\end{frame}</p>
<p>\begin{frame}{Sincronismo Virtual}
Deve satisfazer
<script type="math/tex; mode=display">\begin{itemize}
    \item Se uma mensagem é enviada em uma visão, ela só pode ser entregue naquela visão.
    \item Se uma mensagem é entregue a um processo correto em uma visão, então é entregue a todos os processos corretos naquela visão.
    \item Se um processo não recebe a mensagem, ele não estará na próxima visão.
    \item Ao entrar em uma visão, o processo recebe o estado dos outros processos e seu estado se torna equivalente ao de um processo que recebeu todas as mensagens já entregues.
\end{itemize}</script>
</p>
<p>A troca de Visão é uma barreira.
\end{frame}</p>
<p>\begin{frame}{ISIS Toolkit}
    Sistema de Sincronismo Virtual tolerante a falhas desenvolvido por Ken Birman, Cornell University (\url{<a href="http://www.cs.cornell.edu/Info/Projects/Isis/">http://www.cs.cornell.edu/Info/Projects/Isis/</a>})\
    ISIS: An Environment for Constructing Fault-Tolerant Distributed Systems. Kenneth Birman, D. Skeen, A. El Abbadi, W. C. Dietrich and T. Raeuchle. May 1983.</p>
<p>
<script type="math/tex; mode=display">\begin{itemize}
    \item 100.000's/s
    \item Em uso até 2009
    \item NY Stock Exchange
    \item Swiss Exchange
    \item US Navy
    \item Precursos de sistemas como Zookeeker
    \item Totem, ISIS, Horus, Transis (Partições), \alert{Spread}, \alert{Ensamble}, \alert{JGroups}, Appia, QuickSilver, vSynch (née ISIS 2)
\end{itemize}</script>
\end{frame}</p>
<p>\begin{frame}{Difusão Totalmente Ordenada}
\begin{itemize}
    \item Corretude: Se um processo <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> envia uma mensagem <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> para processos no grupo <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>, então se <span><span class="MathJax_Preview">p</span><script type="math/tex">p</script></span> não falha, todos os processos corretos em <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span> recebem a mensagem.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Acordo: Se um processo correto em $G$ recebe uma mensagem $m$, então todo processo correto em $G$ recebe $m$

\item Ordenação: Se um processo recebe mensagem $m$ e depois $n$, então qualquer processo que receba a mensagem $n$ deve primeiro receber $m$

\item Validade: Somente mensagens difundidas são entregues.
</code></pre></div>
</td></tr></table>

<p>\end{itemize}</p>
<p>E se mandarmos mensagens do tipo ``A partir da entrega desta mensagem, o grupo de processos é <span><span class="MathJax_Preview">G</span><script type="math/tex">G</script></span>.''
\end{frame}</p>
<p>\begin{frame}{Sincronismo Virtual}
Deve satisfazer
\begin{itemize}
    \item Se uma mensagem é enviada em uma visão, ela só pode ser entregue naquela visão.\
    Mensagens de troca de visão podem incrementar um contador\
    Mensagens normais carregam o valor atual do contador\
    Mensagem descartada se valor na mensagem é maior contador no destinatário</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8
9</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>\item Se uma mensagem é entregue a um processo correto em uma visão, então é entregue a todos os processos corretos naquela visão.\\
Pela difusão, se a mensagem de troca for entregue para um processo, será entregue para todos os corretos, na mesma ordem
Se mensagem comum for entregue antes para algum, será entregue ante para todos.

\item Se um processo não recebe a mensagem, ele não estará na próxima visão.\\
Se um processo não recebe uma mensagem comum que foi entregue pelos outros, então ele não troca de visão.

\item Ao entrar em uma visão, o processo recebe o estado dos outros processos e seu estado se torna equivalente ao de um processo que recebeu todas as mensagens já entregues.\\
Caso contrário, não haveria porquê trocar os processos
</code></pre></div>
</td></tr></table>

<p>\end{itemize}
\end{frame}</p>
<p>\begin{frame}{State Transfer}
\includegraphics[width=.7\textwidth]{images/state_transfer}</p>
<p>\href{<a href="http://www.gsd.inesc-id.pt/~ler/docencia/tfd0405/bib/BSRNA.pdf}{Building">http://www.gsd.inesc-id.pt/~ler/docencia/tfd0405/bib/BSRNA.pdf}{Building</a> Secure and Reliable Network Applications}
\end{frame}</p>
<p>\begin{frame}{Difusão Atômica <span><span class="MathJax_Preview">\equiv</span><script type="math/tex">\equiv</script></span> Sincronismo Virtual?}
Seria uma boa aproximação, mas que poderia ser relaxada. </p>
<p>Em certas aplicações, FIFO ou Causal seriam suficientes dentro da visão, desde que a mensagem de mudança da visão seja totalmente ordenada com as comuns.
\end{frame}</p>
<p>\begin{frame}{Particionamento}
E se dois subconjuntos mutuamente exclusivos se formarem e criarem visões independentes?</p>
<p>\pause \emph{Primary Partition Model} -- Somente a partição primária pode mudar de visão.</p>
<p>\pause Lembram-se que no Raft somente uma partição com uma maioria de processo pode decidir? É exatamente a mesma situação, pois os processos estão chegando a um Consenso sobre quem é a nova visão.
\end{frame}</p>
<p>\begin{frame}{Extended Virtual Synchrony}
\emph{Primary Partition Model} -- Não é adequado a uma rede geograficamente distribuída (Internet scale).</p>
<p>\pause Lembram-se que no Raft somente uma partição com uma maioria de processo pode decidir? É exatamente a mesma situação, pois os processos estão chegando a um Consenso sobre quem é a nova visão.
\end{frame}</p>
<p>É possível que no trabalho dois, alguns de vocês tenham tentado gerar locks do sistema para manipular objetos distribuídos no sistema. Esse locks são perigosos por quê processos pode travar/quebrar/falhar e nunca liberarem os locks. O uso de um algoritmo VS poderia ser usado para resolver o problema.\right </p>
<p><a href="https://asafdav2.github.io/2017/swim-protocol/">Swim</a></p>
<p><a href="https://github.com/danluu/post-mortems">Lista de Falhas Reais</a></p>
<p><a href="http://courses.cs.vt.edu/cs5204/fall05-gback/lectures/Lecture8.pdf">http://courses.cs.vt.edu/cs5204/fall05-gback/lectures/Lecture8.pdf</a></p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../time/" title="Tempo" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z" /></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tempo
              </div>
            </div>
          </a>
        
        
          <a href="../disdb/" title="Bancos de Dados" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Bancos de Dados
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z" /></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.c51dfa35.min.js"></script>
      <script src="../assets/javascripts/bundle.eaaa3931.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.58d22e8e.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>