
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.2.8">
    
    
      
        <title>Introdução - Notas em Sistemas Distribuídos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.cb6bc1d0.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.39b8e14a.min.css">
        
          
          
          <meta name="theme-color" content="#000000">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-PJX835H7DP","lasarojc.github.org/dsnotes"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="preference" data-md-color-primary="black" data-md-color-accent="">
      
        <script>matchMedia("(prefers-color-scheme: dark)").matches&&document.body.setAttribute("data-md-color-scheme","slate")</script>
      
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introducao" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href=".." title="Notas em Sistemas Distribuídos" class="md-header-nav__button md-logo" aria-label="Notas em Sistemas Distribuídos">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      <div class="md-header-nav__ellipsis">
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            Notas em Sistemas Distribuídos
          </span>
        </div>
        <div class="md-header-nav__topic">
          <span class="md-ellipsis">
            
              Introdução
            
          </span>
        </div>
      </div>
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/lasarojc/ds_notes" title="Ir ao repositório" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    




<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Notas em Sistemas Distribuídos" class="md-nav__button md-logo" aria-label="Notas em Sistemas Distribuídos">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Notas em Sistemas Distribuídos
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/lasarojc/ds_notes" title="Ir ao repositório" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Prefácio
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Introdução
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Introdução
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#o-que-sao-sistemas-distribuidos" class="md-nav__link">
    O quê são Sistemas Distribuídos?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#por-que-desenvolvemos-sistemas-distribuidos" class="md-nav__link">
    Por quê desenvolvemos sistemas distribuídos?
  </a>
  
    <nav class="md-nav" aria-label="Por quê desenvolvemos sistemas distribuídos?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelos-computacionais" class="md-nav__link">
    Modelos computacionais
  </a>
  
    <nav class="md-nav" aria-label="Modelos computacionais">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comunicacao" class="md-nav__link">
    Comunicação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sincronismo" class="md-nav__link">
    Sincronismo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falhas" class="md-nav__link">
    Falhas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outros-fatores" class="md-nav__link">
    Outros fatores
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-desenvolvemos-sistemas-distribuidos" class="md-nav__link">
    Como desenvolvemos Sistemas Distribuídos?
  </a>
  
    <nav class="md-nav" aria-label="Como desenvolvemos Sistemas Distribuídos?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#middleware" class="md-nav__link">
    Middleware
  </a>
  
    <nav class="md-nav" aria-label="Middleware">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transparencia" class="md-nav__link">
    Transparência
  </a>
  
    <nav class="md-nav" aria-label="Transparência">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transparencia-de-acesso" class="md-nav__link">
    Transparência de Acesso
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-localizacao" class="md-nav__link">
    Transparência de Localização
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-relocacao" class="md-nav__link">
    Transparência de Relocação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-migracao" class="md-nav__link">
    Transparência de Migração
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-replicacao" class="md-nav__link">
    Transparência de Replicação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-concorrencia" class="md-nav__link">
    Transparência de Concorrência
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desafios-para-se-obter-transparencia" class="md-nav__link">
    Desafios para se obter transparência
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tipos" class="md-nav__link">
    Tipos
  </a>
  
    <nav class="md-nav" aria-label="Tipos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#computacao-de-alto-desempenho" class="md-nav__link">
    Computação de Alto Desempenho
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistemas-de-informacao" class="md-nav__link">
    Sistemas de Informação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integracao-de-aplicacoes" class="md-nav__link">
    Integração de Aplicações
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistemas-pervasivosubiquos" class="md-nav__link">
    Sistemas Pervasivos/Ubíquos
  </a>
  
    <nav class="md-nav" aria-label="Sistemas Pervasivos/Ubíquos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redes-de-sensores-e-internet-das-coisas" class="md-nav__link">
    Redes de Sensores e Internet das Coisas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uma-nota-sobre-privacidade-nos-sistemas-pervasivos" class="md-nav__link">
    Uma nota sobre privacidade nos sistemas pervasivos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computacao-utilitaria" class="md-nav__link">
    Computação Utilitária
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projeto" class="md-nav__link">
    Projeto
  </a>
  
    <nav class="md-nav" aria-label="Projeto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etapa-1-usuariosportais" class="md-nav__link">
    Etapa 1 - Usuários/Portais
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etapa-2-cache" class="md-nav__link">
    Etapa 2 - Cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etapa-3-durabilidade" class="md-nav__link">
    Etapa 3 - Durabilidade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../basics/" class="md-nav__link">
        Fundamentos
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../comm/" class="md-nav__link">
        Comunicação
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../arch/" class="md-nav__link">
        Arquiteturas
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../coord/" class="md-nav__link">
        Coordenação
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../time/" class="md-nav__link">
        Tempo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fault/" class="md-nav__link">
        Tolerância a Falhas
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../disdb/" class="md-nav__link">
        Bancos de Dados
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../disfs/" class="md-nav__link">
        Sistemas de Arquivos
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../tech/" class="md-nav__link">
        Tecnologias
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#o-que-sao-sistemas-distribuidos" class="md-nav__link">
    O quê são Sistemas Distribuídos?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#por-que-desenvolvemos-sistemas-distribuidos" class="md-nav__link">
    Por quê desenvolvemos sistemas distribuídos?
  </a>
  
    <nav class="md-nav" aria-label="Por quê desenvolvemos sistemas distribuídos?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#modelos-computacionais" class="md-nav__link">
    Modelos computacionais
  </a>
  
    <nav class="md-nav" aria-label="Modelos computacionais">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#comunicacao" class="md-nav__link">
    Comunicação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sincronismo" class="md-nav__link">
    Sincronismo
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#falhas" class="md-nav__link">
    Falhas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#outros-fatores" class="md-nav__link">
    Outros fatores
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-desenvolvemos-sistemas-distribuidos" class="md-nav__link">
    Como desenvolvemos Sistemas Distribuídos?
  </a>
  
    <nav class="md-nav" aria-label="Como desenvolvemos Sistemas Distribuídos?">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#middleware" class="md-nav__link">
    Middleware
  </a>
  
    <nav class="md-nav" aria-label="Middleware">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transparencia" class="md-nav__link">
    Transparência
  </a>
  
    <nav class="md-nav" aria-label="Transparência">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#transparencia-de-acesso" class="md-nav__link">
    Transparência de Acesso
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-localizacao" class="md-nav__link">
    Transparência de Localização
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-relocacao" class="md-nav__link">
    Transparência de Relocação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-migracao" class="md-nav__link">
    Transparência de Migração
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-replicacao" class="md-nav__link">
    Transparência de Replicação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transparencia-de-concorrencia" class="md-nav__link">
    Transparência de Concorrência
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#desafios-para-se-obter-transparencia" class="md-nav__link">
    Desafios para se obter transparência
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tipos" class="md-nav__link">
    Tipos
  </a>
  
    <nav class="md-nav" aria-label="Tipos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#computacao-de-alto-desempenho" class="md-nav__link">
    Computação de Alto Desempenho
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistemas-de-informacao" class="md-nav__link">
    Sistemas de Informação
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#integracao-de-aplicacoes" class="md-nav__link">
    Integração de Aplicações
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#sistemas-pervasivosubiquos" class="md-nav__link">
    Sistemas Pervasivos/Ubíquos
  </a>
  
    <nav class="md-nav" aria-label="Sistemas Pervasivos/Ubíquos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#redes-de-sensores-e-internet-das-coisas" class="md-nav__link">
    Redes de Sensores e Internet das Coisas
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uma-nota-sobre-privacidade-nos-sistemas-pervasivos" class="md-nav__link">
    Uma nota sobre privacidade nos sistemas pervasivos
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#computacao-utilitaria" class="md-nav__link">
    Computação Utilitária
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#projeto" class="md-nav__link">
    Projeto
  </a>
  
    <nav class="md-nav" aria-label="Projeto">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#etapa-1-usuariosportais" class="md-nav__link">
    Etapa 1 - Usuários/Portais
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etapa-2-cache" class="md-nav__link">
    Etapa 2 - Cache
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#etapa-3-durabilidade" class="md-nav__link">
    Etapa 3 - Durabilidade
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              

<!-- Edit button -->

  <!--
       Hack: check whether the content contains a h1 headline. If it
       doesn't, the page title (or respectively site name) is used
       as the main headline.
    -->


  <!-- Content -->
  <h1 id="introducao">Introdução</h1>
<p>Escrever bons sistemas distribuídos é uma tarefa que esbarra em diversos obstáculos, sendo a definição do que é um sistema distribuído e do que é ser "bom" neste contexto sendo nossos primeiros obstáculos.</p>
<h2 id="o-que-sao-sistemas-distribuidos">O quê são Sistemas Distribuídos?</h2>
<details class="sideslide"><summary>Sistemas simples</summary><p><img alt="Lego Rainbow" src="images/lego0.jpg" style="width:300px" /></p>
</details>
<p>Para atacarmos a primeira questão e entendermos o que é um Sistema Distribuído, talvez seja mais fácil começar pelo que não é um sistema não-distribuído.
Estes são os sistemas que contém em um único processo toda a lógica de negócio, armazenamento e interface com usuário, mesmo que sejam divididos em vários módulos e usem diferentes bibliotecas e <em>frameworks</em>.
Sejam estes sistemas construído com blocos que se encaixam perfeitamente, disponibilizados basicamente pela biblioteca da linguagem que está utilizando;</p>
<details class="sideslide"><summary>Sistemas não tão simples</summary><p><img alt="Lego Hell" src="images/lego3.jpg" style="width:300px" /></p>
</details>
<p>ou desenvolvido por times com diversas pessoas e usando bibliotecas de muitos fornecedores diferentes, aumentando consideravelmente a complexidade do desenvolvimento;
o resultado, contudo, continua sendo um artefato só, executado como um único processo, e por isso os denominaremos sistemas <strong>monolítico</strong>.<sup id="fnref:centr"><a class="footnote-ref" href="#fn:centr">1</a></sup></p>
<p>Programar sistemas distribuídos é dar outro salto em complexidade, pois frequentemente temos que usar peças que não foram pensadas para trabalhar juntas, forçando-nos a usar um pouco de super-cola e arame. </p>
<details class="sideslide"><summary>Cable hell!</summary><p><img alt="Lego SD" src="images/cablemess.jpg" style="max-width:300px; max-height:150px;" /></p>
</details>
<p>Bem, na verdade, em vez de cola usamos <em>middleware</em>, como logo discutiremos, e, em vez de arame, usamos cabos de rede, o que é, 
de fato, a principal característica de um sistema distribuído em relação a um não-distribuído: separação e dispersão de suas partes em vários componentes independentes (processos, sensores, atuadores, etc), mas que se coordenam para execução de alguma tarefa.
Vejamos alguns exemplos de tarefas executadas por sistemas distribuídos, que você usa hoje.</p>
<ul>
<li>Entregue este email para <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#102;&#117;&#108;&#97;&#110;&#111;&#64;&#107;&#110;&#111;&#119;&#104;&#101;&#114;&#101;&#46;&#117;&#110;&#105;">&#102;&#117;&#108;&#97;&#110;&#111;&#64;&#107;&#110;&#111;&#119;&#104;&#101;&#114;&#101;&#46;&#117;&#110;&#105;</a>.</li>
<li>Envie o item I para o endereço E, após cobrança de D dinheiros da conta C.</li>
<li>Em um ambiente de simulação de batalhas em 3D, simule o disparo de um projétil na direção em que o o avatar está olhando, com velocidade V, enquanto movimenta o avatar A para a esquerda com velocidade W.</li>
<li>Autorize a transferência de D dinheiros da conta C para a conta C'.</li>
<li>Movimente o braço mecânico que está segurando um bisturi, 3cm à direita, então abaixe-o 3mm, e movimente-o 4cm para a esquerda</li>
<li>Inclua o comentário ``LOL!!!'' na lista de comentários do item XYZ, com marca de tempo T</li>
<li>Leia o valor do sensor de temperatura T e, caso seu valor supere V, emita alarme luminoso vermelho intermitente e alarme sonoro</li>
</ul>
<p>Fica claro por estes exemplos que há comunicação entre diversos componentes, por exemplo o console de videogame e um serviço que mantem uma "sala" aberta para um jogo.
Assim, uma possível definição de Sistema Distribuído, que me agrada, é a seguinte:</p>
<div class="admonition note">
<p class="admonition-title">Sistema Distribuído</p>
<p><strong>Coleção</strong> de sistemas computacionais (software ou hardware), <strong>independentes</strong> mas com alguma forma de <strong>comunicação</strong>, que <strong>colaboram</strong> na execução de alguma <strong>tarefa</strong>.</p>
</div>
<details class="sideslide"><summary>Componentes</summary><ul>
<li>hospedeiro</li>
<li>nó</li>
</ul>
</details>
<p>No jargão da área, os componentes independentes são denominados <strong>nós</strong>. 
Frequentemente, cada <strong>nó</strong> do sistema será, na prática, um processo em um computador hospedeiro, um <strong><em>host</em></strong>, para que possa fazer uso de todos os recursos do hospedeiro. 
Contudo, nada impede que possivelmente múltiplos nós possam ser executados em um mesmo <em>host</em> ou mesmo que múltiplos <em>hosts</em>  virtuais, sejam máquinas virtuais ou containers, executem na mesma máquina física; isso não muda o fato de que os componentes são independentes e poderiam ser distanciados. <sup id="fnref:embed"><a class="footnote-ref" href="#fn:embed">2</a></sup></p>
<details class="sideslide"><summary>Comunicação</summary><ul>
<li>memória compartilhada</li>
<li>mensagens</li>
</ul>
</details>
<p>Quanto à comunicação, os nós podem compartilhar um espaço de endereçamento comum, seja porquê estão co-locados no mesmo hospedeiro ou seja porquê tem acesso a alguma forma de memória compartilhada distribuída, que veremos mais adiante.
Eles também podem se comunicar por mensagens trocadas via uma rede de comunicação, como a Internet.</p>
<p>Quanto à tarefa em comum, veja o seguinte exemplo, em que vários clientes trocam emails por meio de uma máquina com a qual se comunicam para entregar mensagens a serem enviadas e receber mensagens a eles destinadas; enquanto aguardam a entrega, mensagens são armazenadas em um Sistema Gerenciador de Banco de Dados (SGBD) em uma outra máquina, da qual os usuários não tem ciência. </p>
<p><img alt="Sistema Distribuído" src="drawings/sis_dis.drawio-0.svg" /></p>
<details class="sideslide"><summary>Dependência</summary><ul>
<li>Ao colaborarem, criam dependência</li>
<li>Falha pode parar o sistema</li>
</ul>
</details>
<p>Neste exemplo, cada celular é um nó do sistema, assim como o processo responsável por receber os emails e encaminhá-los para o banco, bem como ler do banco e entregar para os destinatários.
Se o banco de dados para de funcionar, o processo na outra máquina passa a ser inútil, uma vez que não pode armazenar novas mensagens e nem recuperar mensagens já armazenadas. </p>
<details class="sideslide"><summary>Disponibilidade</summary><ul>
<li>falhas</li>
<li>dependabilidade</li>
</ul>
</details>
<p>Neste contexto, uma definição mais cínica mas definitivamente realista é a de <a href="https://en.wikipedia.org/wiki/Leslie_Lamport">Leslie Lamport</a>, que certa vez disse:</p>
<blockquote>
<p>A distributed system is one in which the failure of a computer you didn't even know existed can render your own computer unusable.</p>
</blockquote>
<p>Lamport está correto quanto a problemas em sistemas distribuídos, e problemas podem se manifestar em diversas formas. Por exemplo, mesmo que um computador não pare, se ele ficar lento ou se o canal de comunicação não for confiável, a uma aplicação crítica poderá ser inviabilizada, como no exemplo de tele-cirurgia acima.
Algumas aplicações, contudo, aparentemente conseguem superar estes obstáculos.
Pensemos em algumas aplicações distribuídas com as quais interagimos todos os dias e que, por seu sucesso, devem ser bons sistemas distribuídos.
Alguns exemplos óbvios são <a href="https://www.amazon.com">Amazon.com</a>, <a href="https://www.facebook.com">Facebook</a>, e <a href="https://www.gmail.com">GMail</a>.</p>
<p>Estes sistemas rodam em grandes <em>data centers</em> com <a href="https://youtu.be/D77WDo881Pc">milhares de máquinas</a>, estando constantemente sujeitos a fontes queimadas, discos corruptos, memórias defeituosas, etc<sup id="fnref:failures"><a class="footnote-ref" href="#fn:failures">3</a></sup>. 
Apesar disto, dificilmente estes serviços são reportados como fora do ar, são altamente responsíveis e, goste ou não do que fazem, são bem sucedidos porquê cumprem bem suas tarefas.
Assim, digamos que um sistema computacional é <strong>bom</strong> se está sempre funcional, com bom desempenho e é de baixo custo.
Observe que estar sempre funcional implica em continuar provendo o serviço mesmo que partes do sistema estejam com problemas; bom desempenho implica que  respostas "rápidas" são dadas para o usuário; baixo custo implica não gastar mais que o necessário para realizar a tarefa para a qual foi construído.</p>
<details class="sideslide"><summary>Um "bom" sistema</summary><ul>
<li>Disponível<ul>
<li>Falhas</li>
</ul>
</li>
<li>Rápido<ul>
<li>Desempenho</li>
<li>Proximidade</li>
</ul>
</li>
<li>Barato<ul>
<li>Tamanho apropriado</li>
</ul>
</li>
</ul>
</details>
<p>Enquanto subjetiva, nossa definição de <strong>bom</strong> nos permite estabelecer um pano de fundo para delinear as dificuldades de se implementar.
Como veremos adiante, os requisitos para um bom sistema distribuído são conflitantes e difíceis, as vezes impossíveis, de serem alcançados. 
Mas se esta é a realidade da programação distribuída, por quê fazê-lo? A resposta tem a ver com a <strong>colaboração</strong>, na definição.</p>
<h2 id="por-que-desenvolvemos-sistemas-distribuidos">Por quê desenvolvemos sistemas distribuídos?</h2>
<p>A primeira razão é o fato é que computadores individuais tem capacidade reduzida de processamento e armazenamento, mas nossa necessidade de poder computacional cresce exponencialmente.</p>
<p><img alt="Data Growth" src="images/datagrowth.jpg" style="max-width:500px" /></p>
<p>Assim, precisamos crescer nosso poder computacional, mas aumentar a capacidade de um dispositivo (<strong>scale up</strong> ou <strong>vertical scaling</strong>), mesmo de forma linear, tem custo exponencial.</p>
<p><img alt="Custo de melhoria" src="images/exponential.jpg" style="max-width:300px" /></p>
<p>O que nos resta então é agregar o poder computacional de diversos computadores "baratos" (<strong>scale out</strong> ou <strong>horizontal scaling</strong>) para satisfazer nossas necessidades.<sup id="fnref:scaling"><a class="footnote-ref" href="#fn:scaling">4</a></sup></p>
<p><img alt="Custo de melhoria" src="images/scaleupout.jpg" style="width:600px" /></p>
<p>Mesmo se pensarmos que a escala com que estes sistemas trabalham deve ser muito diferente daquela dos sistemas que nós desenvolvemos, e portanto as técnicas usadas em sua construção devem ser muito distintas do que fazemos, a verdade não poderia ser mais longe disto.
Com a quantidade de informação armazenada a cada acesso a um sítio, a cada produto vendido, ou a cada consulta feita, praticamente qualquer sistema de informação de sucesso necessitará aplicar as técnicas de computação distribuída e superar as mesmas barreiras para conseguir atender ao número crescente de clientes (computacionais ou humanos) e aumentar sua área de cobertura, mesmo que não chegue a escala dos exemplos acima, e melhorar ou manter a qualidade do serviço que presta.</p>
<details class="sideslide"><summary>PQ?</summary><ul>
<li>escalabilidade</li>
<li>tolerância a falhas</li>
</ul>
</details>
<p>Este último ponto, sobre qualidade do serviço, tem a ver com a capacidade de um sistema se manter no ar a despeito de problemas, isto é, de ser tolerante a falhas.
Tolerância a falhas implica em redundância, em cópias, o que fatidicamente implica em <strong>distribuição</strong> e em <strong>Sistemas Distribuídos</strong>.
Assim, podemos concluir que as principais razões para se desenvolver sistemas distribuídos são alcançar <strong>escalabilidade</strong> e <strong>tolerância a falhas</strong>, ambas resultantes da <strong>agregação</strong> (correta) do poder computacional de múltiplos componentes.</p>
<p>Mas se não temos alternativas à distribuição, precisamos então entender como podemos implementá-los e quais desafios encontraremos. 
O primeiro desafio é entender o ambiente no qual estão inseridos, suas limitações e fragilidades. 
Isto é, precisamos definir um <strong>modelo computacional</strong>, sabendo que alguns problemas tem soluções triviais ou inexistentes, dependendo do modelo.</p>
<h3 id="modelos-computacionais">Modelos computacionais</h3>
<p>Definido ou identificado o modelo computacional, podemos distribuir nosso sistema, isto é, dividir a computação/armazenamento em diversas máquinas, e coordenar suas ações para que sejam consistentes com a especificação, de forma a minimizar o tempo que o serviço fica fora do ar, entregando o serviço de acordo com expectativas especificadas.
Contudo, antes de implementar esta coordenação precisamos responder a diversas perguntas, por exemplo:</p>
<ul>
<li>Qual a probabilidade de um nó parar de funcionar?</li>
<li>Como os nós se comunicam? Eles compartilham um espaço de endereçamento ou enviam mensagens uns para os outros?</li>
<li>A quais atrasos a comunicação está sujeita? Pode haver atrasos infinitos?</li>
<li>A comunicação pode ser corrompida?</li>
<li>Os relógios dos hospedeiros marcam o mesmo valor no mesmo instante, ou melhor, são sincronizados?</li>
<li>Há agentes que possam querer perturbar o sistema, por exemplo para ganhar acesso a mais recursos do que seria justo?</li>
</ul>
<details class="sideslide"><summary>Modelos</summary><ul>
<li>Comunicação</li>
<li>Sincronismo</li>
<li>Falhas</li>
</ul>
</details>
<p>Estas perguntas são, normalmente, divididos em três eixos: <strong>Comunicação</strong>, <strong>Sincronismo</strong> e <strong>Falhas</strong>.</p>
<h4 id="comunicacao">Comunicação</h4>
<p>De uma forma ou de outra, sistemas distribuídos tem à sua disposição múltiplos processadores e permitem o desenvolvimento de aplicações paralelas, isto é, onde múltiplas tarefas são executadas ao mesmo tempo ou paralelamente.
Contudo, por um lado, quando falamos em sistemas multiprocessados, normalmente estamos falando de sistemas em que os processadores estão <strong>próximos</strong> e compartilham um mesmo espaço de endereçamento, sejam computadores com múltiplos processadores ou sejam clusters de computadores que abstraiam múltiplos segmentos de memória como um único espaço de endereçamento via uma abstração de memória compartilhada distribuída. 
Seja como for, estes sistemas com <strong>memória compartilhada</strong> são normalmente usados para aplicações de computação intensiva e em cujo os componentes são mais <strong>fortemente acoplados</strong> e melhor estudados em um curso de computação paralela.</p>
<details class="todo"><summary>TODO</summary><ul>
<li>Imagem shared memory</li>
<li>diagrama de Venn (Shared memory [ distributed shared memory  ) Distributed systems ] </li>
</ul>
</details>
<details class="sideslide"><summary>Comunicação</summary><ul>
<li>memória compartilhada</li>
<li>troca de mensagens</li>
</ul>
</details>
<p>Por outro lado, estamos mais interessados aqui em sistemas de maior escala geográfica, o que se adequa melhor ao modelo de troca de mensagens, isto é, onde cada nó mantem controle total do seu espaço de endereçamento e só expõe seu estado via mensagens enviadas para os outros nós.
Este modelo é mais adequado ao desenvolvimento de aplicações com componentes <strong>fracamente acoplados</strong>, em que atrasos de comunicação e ocorrência de falhas independentes são intrínsecas.</p>
<details class="todo"><summary>TODO</summary><ul>
<li>Imagem message passing</li>
<li>conectividade</li>
</ul>
</details>
<h4 id="sincronismo">Sincronismo</h4>
<details class="sideslide"><summary>Sincronismo</summary><ul>
<li>operações</li>
<li>comunicação</li>
<li>relógio</li>
<li>sincronização</li>
</ul>
</details>
<p>Quanto ao sincronismo, considera-se os limites de tempo para execução de operações, para troca de mensagens ou acesso à memória compartilhada (dependendo do modelo de comunicação), se os nós tem acesso a relógios para medição de passagem do tempo e quão acurazes este são e, finalmente, o quão sincronizados são estes relógios. </p>
<h4 id="falhas">Falhas</h4>
<p>Quanto às falhas, primeiro é preciso aceitar o fato de que componentes independentes podem falhar independentemente e que quanto mais computadores, maior é a probabilidade de que pelo menos um deles tenha uma CPU, disco, fonte, ou que quer que seja, falhando; e estejam certos, <strong>computadores <a href="https://www.statista.com/statistics/430769/annual-failure-rates-of-servers/">falham</a> o tempo todo!</strong>.
Isto é importante pois se em sistemas monolíticos uma falha pode facilmente fazer com que o sistema todo pare e, portanto, não tente progredir na ausência de um componente, em um sistema distribuído queremos exatamente o contrário, isto é, que apesar da falha de um componente, os outros continuem prestando o serviço, mesmo de forma deteriorada e sem comprometer a corretude do sistema.</p>
<details class="sideslide"><summary>Falhas</summary><ul>
<li>detectável</li>
<li>temporização</li>
<li>quebras</li>
<li>maliciosas</li>
<li>perda e corrupção de mensagens</li>
</ul>
</details>
<p>Para lidar com falhas, precisamos entender quais são suas possíveis formas, isto é, se o levam componentes falhos a parar de funcionar totalmente e de forma identificável por outros ou não, se há falhas "maliciosas", se os limites de tempo estabelecidos acima podem ser violados, se mensagens podem ser perdidas ou corrompidas.</p>
<h4 id="outros-fatores">Outros fatores</h4>
<details class="sideslide"><summary>Outros</summary><ul>
<li>carga de trabalho</li>
</ul>
</details>
<p>Embora modelos clássicos sejam normalmente definidos em termos dos fatores acima, outras questões são também importantes, como o padrão da carga de trabalho do sistema (maior carga à noite? Na hora do almoço? <em>Black friday</em>?)</p>
<h2 id="como-desenvolvemos-sistemas-distribuidos">Como desenvolvemos Sistemas Distribuídos?</h2>
<p>Uma vez definido o <strong>modelo computacional</strong> e identificado os <strong>algoritmos adequados</strong> aos problemas que queremos resolver, passamos à implementação.
Distribuir é <strong>dividir</strong> a computação/armazenamento em diversos componentes, <strong>possivelmente geograficamente distantes</strong>, e <strong>coordenar</strong> suas ações para que resolvam a tarefa em questão de forma correta.
Com a distribuição objetiva-se <strong>usar recursos</strong> disponíveis nos hosts onde os componentes são executados<sup id="fnref:recursos"><a class="footnote-ref" href="#fn:recursos">5</a></sup> e usar de <strong>redundância</strong> para garantir que o serviço sofra <strong>degradação graciosa</strong> em caso de falhas, ou seja, fazer com que o serviço continue funcionando, mesmo que com <strong>vazão</strong> reduzida, <strong>latência</strong> aumentada, menor capacidade de tratamento de requisições concorrentes, ou com  <strong>funcionalidades</strong> desabilitadas.</p>
<p>Para colaborar, as diversas partes do sistema distribuído devem se comunicar, o que pode pode ser feito de diversas formas e em diversos níveis de abstração. Por exemplo, no caso troca de mensagens, estas podem ser desde pacotes de bytes entregues pelo IP/UDP como por <strong>troca de mensagens</strong> ordenadas, <strong>fluxos de dados</strong>, ou <strong>invocação remota de procedimentos</strong>.
Implementar estas abstrações em si já é uma tarefa complicada, pois é preciso levar em consideração que os componentes de um sistema distribuído <strong>falham independentemente</strong>, executam em <em>hosts</em>  com <strong>relógios dessincronizados</strong>, são desenvolvidos usando-se <strong>linguagens diversas</strong>, <strong>sistemas operacionais distintos</strong>, com <strong>arquiteturas diferentes</strong> e por <strong>times independentes</strong>.</p>
<p>Apesar de tantas variáveis, as abstrações precisam permitir que as aplicações que as usem possam se coordenar nos mínimos detalhes. 
Quero dizer, a complexidade de se implementar estas abstrações já é grande por si só e se formos reinventar a roda a cada novo sistema, não faremos muitos avanços.
Mas, como vocês bem sabem, camadas de abstração são a chave para se lidar com complexidade.
Assim, sistemas distribuídos são como cebolas, cheias de camadas e que nos fazem chorar quando precisamos manipulá-las.<sup id="fnref:ogros"><a class="footnote-ref" href="#fn:ogros">6</a></sup>
Felizmente, para cada problema que tenha que resolver, há uma boa probabilidade de que alguém já o tenha atacado e disponibilizado uma solução, de forma comercial ou não.
Com sistemas distribuídos, não é diferente, e no caso da comunicação entre componentes distribuídos, a solução normalmente é usar um <strong>middleware</strong>.</p>
<h3 id="middleware">Middleware</h3>
<details class="sideslide"><summary>Middleware</summary><ul>
<li>software</li>
<li>hardware/OS</li>
<li>aplicação</li>
<li>diversas funcionalidades</li>
</ul>
</details>
<p>De acordo com <a href="https://www.amazon.com/Distributed-Systems-Principles-Paradigms-Tanenbaum-dp-B00DEKA7T2/dp/B00DEKA7T2/ref=mt_hardcover?_encoding=UTF8&amp;me=&amp;qid=">Tanenbaum &amp; Van Steen</a>, <em>middleware</em> é </p>
<blockquote>
<p>... the software layer that lies between the operating system and applications on each side of a distributed computing system in a network.</p>
</blockquote>
<p>Isto é, o <em>middleware</em> é a camada <em>ware</em> que fica no <em>middle</em>, entre, o <em>software</em> e o <em>hardware</em>. 
Software, no caso, é a aplicação distribuída sendo desenvolvida e hardware é a <strong>abstração</strong> do <em>host</em> em que se executam os componentes, provida pelo sistema operacional.
Uso aqui o termo <strong>abstração</strong> porquê o sistema operacional pode encapsular <em>hardware</em> real, mas também pode encapsular outra abstração de <em>hardware</em>, por exemplo, uma máquina virtual ou contêiner.</p>
<p>A figura seguinte   mostra um exemplo com três aplicações executando sobre um <em>middleware</em>, que por sua vez é executado sobre diferentes sistemas operacionais, em <em>hosts</em>  conectados por uma rede de comunicação. </p>
<p><img alt="Middleware" src="images/01-01.png" style="width:500px" /><sup id="fnref:0101"><a class="footnote-ref" href="#fn:0101">7</a></sup></p>
<p>Com este cenário em mente, é importante entender o que diz <a href="https://web.archive.org/web/20050507151935/http://middleware.objectweb.org/">Sacha Krakowiak</a> quando afirma que as principais funções do <em>middleware</em> são:</p>
<ul>
<li>esconder a distribuição e o fato de que um aplicação é geralmente composta por múltiplas partes, executando em localizações geograficamente distintas,</li>
<li>esconder a heterogeneidade dos vários componentes de hardware, sistemas operacionais e protocolos de comunicação</li>
<li>prover interfaces uniformes, de alto nível e padronizadas para os desenvolvedores de aplicação e integradores, de forma que aplicações possam ser facilmente compostas, reusadas, portadas e feitas interoperáveis.</li>
</ul>
<p>Assim, os <em>middleware</em> facilitam a conexão entre componentes e permitem o uso de protocolos mais abstratos que as operações de  <code>write(byte[])</code> e <code>read(): byte[]</code> dos protocolos de baixo nível, escondendo a complexidade da coordenação de sistemas independentes.
Desenvolver sistemas distribuídos sem usar um <em>middleware</em> é como desenvolver um aplicativo sem usar quaisquer bibliotecas: possível, mas complicado, e estará certamente reinventando a roda. Isto é, você praticamente tem que refazer o <em>middleware</em> antes de desenvolver o sistema em si.</p>
<p>Idealmente, com o <em>middleware</em>, o desenvolvedor conseguiria facilmente implementar uma aplicação em que a distribuição fosse totalmente transparente, levando o sistema, uma coleção de sistemas computacionais (software ou hardware) independentes, a se apresentar para o usuário como <strong>um sistema único</strong>, monolítico.
Pense no browser e na WWW, por exemplo: o quanto você sabe sobre as páginas estarem particionadas em milhões de servidores? Isso é o que chamamos de <strong>transparência</strong>.</p>
<h4 id="transparencia">Transparência</h4>
<details class="sideslide"><summary>Transparência Total</summary><p>Acesso + Localização + Relocação + Migração + Replicação + Falha</p>
</details>
<p>Se não há qualquer indício de que a aplicação é distribuída, então temos <strong>transparência total</strong>.<br />
Podemos quebrar esta transparência total em várias transparências mais simples: <strong>Acesso</strong>, <strong>Localização</strong>, <strong>Relocação</strong>,
<strong>Migração</strong>, <strong>Replicação</strong>, e <strong>Falha</strong>.
Vejamos cada uma destas separadamente.</p>
<h5 id="transparencia-de-acesso">Transparência de Acesso</h5>
<details class="sideslide"><summary>Transparência de Acesso</summary><ul>
<li>como se apresenta</li>
<li>representação de dados<ul>
<li>arquitetura</li>
<li>OS</li>
<li>linguagem</li>
</ul>
</li>
<li>padrões abertos e bem conhecidos.</li>
</ul>
</details>
<p>A transparência de acesso diz respeito à representação de dados e mecanismos de invocação (arquitetura, formatos, linguagens...).
Cada computador tem uma arquitetura e uma forma de representar seus dados. Por exemplo, considere os padrões para representação de números em ponto flutuante IEEE e IBM. Ambos dividem os bits em sinal, expoente e mantissa, mas com tamanhos diferentes.</p>
<div class="admonition note">
<p class="admonition-title">IEEE<sup id="fnref:IEEEFP"><a class="footnote-ref" href="#fn:IEEEFP">8</a></sup></p>
<table>
<thead>
<tr>
<th align="center">Precisão</th>
<th align="center">Tamanho total (bits)</th>
<th align="center">Sinal (bits)</th>
<th align="center">Expoente (bits)</th>
<th align="center">Mantissa (bits)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Half</td>
<td align="center">16</td>
<td align="center">1</td>
<td align="center">5</td>
<td align="center">10</td>
</tr>
<tr>
<td align="center">Single</td>
<td align="center">32</td>
<td align="center">1</td>
<td align="center">8</td>
<td align="center">23</td>
</tr>
<tr>
<td align="center">Double</td>
<td align="center">64</td>
<td align="center">1</td>
<td align="center">11</td>
<td align="center">52</td>
</tr>
<tr>
<td align="center">Quadruple</td>
<td align="center">128</td>
<td align="center">1</td>
<td align="center">15</td>
<td align="center">112</td>
</tr>
</tbody>
</table>
</div>
<div class="admonition note">
<p class="admonition-title">IBM<sup id="fnref:IBMFP"><a class="footnote-ref" href="#fn:IBMFP">9</a></sup></p>
<table>
<thead>
<tr>
<th align="center">Precisão</th>
<th align="center">Tamanho total (bits)</th>
<th align="center">Sinal (bits)</th>
<th align="center">Expoente (bits)</th>
<th align="center">Mantissa (bits)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">Single</td>
<td align="center">32</td>
<td align="center">1</td>
<td align="center">7</td>
<td align="center">24</td>
</tr>
<tr>
<td align="center">Double</td>
<td align="center">64</td>
<td align="center">1</td>
<td align="center">7</td>
<td align="center">56</td>
</tr>
<tr>
<td align="center">Quadruple</td>
<td align="center">128</td>
<td align="center">1</td>
<td align="center">7</td>
<td align="center">112 (8b ignorados)</td>
</tr>
</tbody>
</table>
</div>
<p>E se dois componentes de um SD executam em máquinas com arquiteturas diferentes, como trocam números em ponto flutuante?
É preciso que usem um padrão conhecido por ambos os <em>hosts</em>, seja o padrão a arquitetura "nativa" do host ou um padrão intermediário, definido pelo <em>middleware</em>.</p>
<p>A mesma questão é válida para representações de strings e classes, e diferenças de sistemas operacionais e linguagens.
No caso específico das strings, pense em um programa escrito em linguagem C e que este programa deva comunicar-se com um outro, escrito em Java, e trocar strings com o mesmo.
Enquanto em C uma string é uma sequência de bytes imprimíveis terminadas por um <code>\0</code>, em Java uma string é uma classe que encapsula uma sequência de chars, sendo que cada <a href="https://docs.oracle.com/javase/8/docs/technotes/guides/intl/overview.html">char é um código 16 bits</a> representativo de um código Unicode<sup id="fnref:stringjava"><a class="footnote-ref" href="#fn:stringjava">10</a></sup>.
Como transferir strings entre duas plataformas?  Não fazê-lo? Simplificar a string Java?  Estender a string C?<br />
Para se tentar obter transparência de acesso, é importante que se use <strong>padrões</strong> implementados em múltiplas arquiteturas, <strong>abertos</strong>  e bem conhecidos, com <strong>interfaces bem definidas</strong>.</p>
<h5 id="transparencia-de-localizacao">Transparência de Localização</h5>
<details class="sideslide"><summary>Transparência de localização</summary><ul>
<li>onde está o objeto</li>
<li>latência<ul>
<li>cache</li>
<li>paralelismo</li>
<li>programação assíncrona</li>
<li>arquiteturas reativas</li>
</ul>
</li>
</ul>
</details>
<p>A transparência de localização diz respeito a onde está o objeto acessado pela aplicação, seja um BD, página Web ou serviço de echo: pouco importa ao usuário, se está dentro da mesma máquina de onde executa o acesso, se na sala ao lado ou em um servidor do outro lado do globo, desde que o serviço seja provido de forma rápida e confiável.
A esta transparência é essencial uma boa distribuição do serviço, sobre uma rede com baixa latência, ou o uso de técnicas que permitam esconder a latência.</p>
<h6>Escondendo a Latência</h6>
<p>Para se esconder a latência, várias táticas são utilizáveis:</p>
<ul>
<li><em>Caching</em> de dados<ul>
<li>Em vez de sempre buscar os dados no servidor, mantenha cópias locais dos dados que mudam menos (e.g., o CSS do <em>stack overflow</em>).</li>
</ul>
</li>
<li>Use paralelismo<ul>
<li>Em vez de validar formulário após preenchimento de cada campo, valide em paralelo enquanto usuário preenche o campo seguinte.</li>
<li>Use <em>callbacks</em> para indicar campos com problemas a serem corrigidos.</li>
<li>Saiba que nem todo problema é paralelizável, por exemplo, autenticação</li>
</ul>
</li>
<li>Use programação assíncrona<ul>
<li>AsyncIO</li>
<li>C# <a href="https://docs.microsoft.com/en-us/dotnet/csharp/async">await/async</a></li>
<li><a href="https://en.wikipedia.org/wiki/Futures_and_promises">Futures e Promises</a></li>
</ul>
</li>
</ul>
<p>Outra forma de diminuir latência é trazer para próximo do usuário parte da computação.
Isto é comumente feito com a interface com usuário,  mas pode ser usado também para outras partes do sistema. 
Como exemplo do primeiro, pense em consoles de video-game que fazem o processamento gráfico pesado de jogos online na casa do usuário<sup id="fnref:stadia"><a class="footnote-ref" href="#fn:stadia">11</a></sup>.
Como exemplo do segundo, pense em aplicativos que mantém os dados em celulares até que uma boa conexão, por exemplo WiFi, esteja disponível para sincronizar com o servidor.</p>
<p>De forma geral, pense em esconder latência pelos seguintes passos:</p>
<ul>
<li>Distribua tarefas</li>
<li>Delegue computação aos clientes (e.g., JavaScript e Applets Java)</li>
<li>Particione dados entre servidores (e.g., Domain Name Service e World Wide Web) para dividir a carga e aumentar a vazão</li>
<li>Aproxime dados dos clientes</li>
<li>Mantenha cópias de dados em múltiplos lugares.</li>
<li>Atualize dados de acordo com necessidade (e.g., cache do navegador, com código do google.com sendo atualizado a cada 4 dias)</li>
</ul>
<h5 id="transparencia-de-relocacao">Transparência de Relocação</h5>
<details class="sideslide"><summary>Transparência de relocação</summary><ul>
<li>como se movimenta</li>
<li>visto por clientes</li>
</ul>
</details>
<p>As vezes componentes do sistema distribuído precisam ser movimentados de uma localização à outra, por exemplo porquê um novo <em>host</em> foi contratado.
Se implementadas corretamente, as técnicas que entregam transparência de localização não deixam que o cliente perceba a movimentação, no que chamamos transparência de Relocação.</p>
<ul>
<li>Rede de baixa latência</li>
<li>Distribuição inteligente<ul>
<li>E.g: Serviços de nome</li>
</ul>
</li>
<li>Múltiplas cópias<ul>
<li>Cópias temporárias</li>
</ul>
</li>
</ul>
<h5 id="transparencia-de-migracao">Transparência de Migração</h5>
<details class="sideslide"><summary>Transparência de migração</summary><ul>
<li>como se movimenta</li>
<li>visto por si mesmo</li>
</ul>
</details>
<p>Do ponto de vista do próprio serviço, não perceber que se está sendo movimentado é chamado transparência de Migração.
Um serviço com esta propriedade, não precisa ser parado e reconfigurado quando a mudança acontece.
Uma das formas de se implementar esta propriedade é através da migração provida por máquinas virtuais, usado, por exemplo, para consolidar o uso de servidores em nuvens computacionais.
Veja o exemplo do VMotion da VMware.</p>
<p><img alt="http://hyaking.com/wp-content/uploads/2017/01/Hyaking_Image_vmware-vmotion.jpg" src="images/vmotion.jpg" /></p>
<p>Na verdade, a movimentação neste cenário, é uma cópia da máquina virtual. Uma vez que a cópia esteja próxima do fim, a imagem original é congelada, a cópia concluída, e há um chaveamento na rede para se direcionar toda comunicação para nova cópia. O máquina original é então descartada.</p>
<h5 id="transparencia-de-replicacao">Transparência de Replicação</h5>
<details class="sideslide"><summary>Transparência de replicação</summary><ul>
<li>redundância</li>
<li>visto por clientes</li>
</ul>
</details>
<p>A capacidade de ter cópias de um serviço e de direcionar trabalho de uma para outra é também útil para se obter transparência no caso de falhas.
Isto porquê para se manter um serviço funcional a despeito de falhas, é preciso ter múltiplas cópias, prontas para funcionar a qualquer momento.</p>
<p>Dependendo das garantias desejadas na manutenção da <strong>consistência</strong> entre as cópias, o custo pode variar muito, de forma que para se ter um custo menor, tem-se garantias mais fracas, por exemplo, que as réplicas tem um <strong>atraso</strong> entre elas de no máximo <span class="arithmatex">\(X\)</span> minutos. Este é um dilema parecido com o TCP x UDP, em que mais garantias implicam em maior custo de comunicação.</p>
<p>Algumas aplicações toleram inconsistências e podem viver com menores custos. Um exemplo famoso é o dos "carrinhos de compra" da <a href="https://www.allthingsdistributed.com/2008/12/eventually_consistent.html">Amazon.com</a>, que podem fechar pedidos com conteúdo diferente do desejado pelo cliente.</p>
<p>Outras aplicações são normalmente construídas com requisitos de consistência forte entre as réplicas, como sistemas financeiros.
Para estas aplicações, uma técnica importante para se conseguir replicação é o uso de <em>frameworks</em> de <strong>comunicação em grupo</strong>, que entregam para múltiplas instâncias de um mesmo serviço, as mesmas mensagens, permitindo que elas se mantenham como cópias.
Esta técnica funciona se os serviços forem máquinas de estado determinísticas, que consideram como eventos as mensagens entregues pelo protocolo de comunicação em grupo e é denominada <a href="https://en.wikipedia.org/wiki/State_machine_replication"><strong>replicação de máquinas de estado</strong></a>.</p>
<details class="sideslide"><summary>Replicação de Máquina de Estados</summary><ul>
<li>determinística</li>
<li>mesmo estado inicial</li>
<li>mesmos eventos</li>
<li>mesmo estado final</li>
<li>atraso entre réplicas</li>
</ul>
</details>
<div class="mermaid">stateDiagram
    ei: Estado Inicial
    e1: Estado 1
    e2: Estado 2
    e3: Estado 3
    en: Estado N

    ei --&gt; e1
    e1 --&gt; e2
    e2 --&gt; e1
    e2 --&gt; e3
    e3 --&gt; e2
    e1 --&gt; en
    e3 --&gt; en</div>
<details class="todo"><summary>Todo</summary><p>Figura com state machine replication</p>
</details>
<p>Novamente é preciso chamar à atenção a questão dos custos desta técnica.
Replicação de Máquinas de Estados é muito custosa e por isso faz-se um esforço para não utilizá-la ou para utilizá-la em "cantinhos" do sistema onde inconsistências são absolutamente caras demais para sere permitidas.
Isto porquê manter múltiplas cópias <span class="arithmatex">\(\Rightarrow\)</span> sincronização <span class="arithmatex">\(\Rightarrow\)</span> custos. 
Se houver mudanças frequentes nos dados, tal custo precisa ser pago também frequentemente.
Mitigações incluem uso de réplicas temporárias, protocolos de invalidação de cache, contratação de redes com mais largura de banda  e menor latência, sendo que estes últimos esbarram em limitações financeiras e físicas.</p>
<h5 id="transparencia-de-concorrencia">Transparência de Concorrência</h5>
<details class="sideslide"><summary>Transparência de concorrência</summary><ul>
<li>obliviedade a outros serviços</li>
<li>visto por clientes</li>
</ul>
</details>
<p>Outra transparência almejável é de concorrência, isto é, imperceptibilidade quanto ao fato de que o serviço está executando concorrentemente a outros serviços e sendo acessado por outros clientes.
Isto é importante tanto em termos de segurança, no sentido de que um cliente não deveria acessar os dados do outro, caso isso seja um requisito do sistema, quanto tem termos de desempenho.
Nuvens computacionais são um exemplo de onde este tipo de transparência é essencial.</p>
<p>Considere um serviço de banco de dados em uma nuvem qualquer. Para prover a mesma interface com a qual usuários estão acostumados a anos, é possível que este serviço seja simplesmente um <em>wrapper</em> ao redor do SGBD que se comprava e instalava <em>in-house</em> anteriormente.
Para se tornar viável, contudo, uma mesma instância deve servir múltiplos clientes, os <em>tenants</em>, sem que a carga de trabalho introduzida por um, interfira no desempenho do outro. No meio, chamamos esta propriedade de <em>multi-tenancy</em>, mas é apenas um exemplo de transparência de concorrência.</p>
<ul>
<li><img alt="https://cdn.jjude.com/mt-models.png" src="images/multitenancy_models.png" /></li>
</ul>
<p>Esta transparência está fundamentalmente ligada à escalabilidade, isto é, à adequação dos <em>pool</em> de recursos às demandas dos clientes: se mais clientes estão presentes, então aumente a quantidade de servidores (<em>scale up</em>) e separe as cargas (<em>sharding</em>); se menos clientes estão presentes, então desligue algumas máquinas (<em>scale down</em>) e consolide recursos.</p>
<h5 id="desafios-para-se-obter-transparencia">Desafios para se obter transparência</h5>
<p>Apesar de desejáveis, as transparência discutidas são difíceis de se conseguir, principalmente se em conjunto.
Isto porquê, do <strong>ponto de vista de usuários</strong> espalhados pelo globo, atrás de redes heterogêneas e com possibilidade de erros, acontecerão atrasos e perdas na comunicação, denunciando a distribuição.</p>
<p>Do <strong>ponto de vista do desenvolvedor</strong>, é preciso tomar decisões baseado em premissas ligadas à realidade da rede. Por exemplo, se uma requisição não foi respondida, quanto tempo um cliente deve esperar antes de reenviá-la, possivelmente para outro servidor, sem incorrer em risco significativo da requisição ser processada duas vezes? A resposta para esta pergunta é muito mais complicada do que pode parecer.</p>
<p><strong>De forma geral</strong>, qualquer aumento de transparência tem um custo, seja em termos monetários (e.g., contratação de enlace dedicado ou de <em>host</em> em outra posição geográfica), ou em termos de desempenho (e.g., coordenar a entrega de mensagens em sistemas de comunicação em grupo).</p>
<p>Provavelmente os maiores obstáculos para se alcançar os diversos tipos de  transparência são impostos pela parte da infraestrutura que torna o sistema distribuído possível, a rede.
Para entender o porquê, vejamos algumas premissas normalmente assumidas sobre a rede que não são, definitivamente, verdade:</p>
<ul>
<li>A latência é zero.</li>
<li>A largura de banda é infinita.</li>
<li>A rede é confiável.</li>
<li>A rede é segura.</li>
<li>A rede é homogênea.</li>
<li>A rede é estática.</li>
<li>A rede tem acesso grátis.</li>
<li>A rede é administrada por você ou alguém acessível.</li>
</ul>
<h2 id="tipos">Tipos</h2>
<p>Há quem diga que <a href="https://devclass.com/2019/08/16/pivotal-cto-kubernetes-means-were-all-distributed-systems-programmers-now/">já somos todos desenvolvedores de sistemas distribuídos</a>.
Ainda assim, é importante entender que há vários tipos de sistemas distribuídos, com diversas finalidades e diversas as arquiteturas, pois classificações nos ajudam a pensar sobre sistemas e a encontrar e reusar soluções previamente testadas. </p>
<h3 id="computacao-de-alto-desempenho">Computação de Alto Desempenho</h3>
<p>A possibilidade de agregar poder de processamento de muitos computadores em um rede de comunicação com altíssima largura de banda nos permite atacar problemas computacionalmente muito intensos
Clusters como o da imagem a seguir, do High Performance Computing Center de Stuttgart, são compartilhados por pesquisadores resolvendo problemas áreas como bio-informática, engenharia, economia, inteligência artificial, etc.</p>
<p><img alt="Cluster para HPC no High Performance Computing Center de Stuttgart" src="https://upload.wikimedia.org/wikipedia/commons/9/9e/High_Performance_Computing_Center_Stuttgart_HLRS_2015_08_Cray_XC40_Hazel_Hen_IO.jpg" /></p>
<p>Na engenharia, por exemplo, HPC pode ser usada para testar a eficiência de projetos sem construir protótipos, seja</p>
<ul>
<li>de uma turbina<br />
<img alt="CFD" src="images/turbine.jpeg" /></li>
<li>um carro<br />
<img alt="CFD" src="images/cfd_car.jpg" /></li>
<li>ou uma vaca<br />
<img alt="CFD" src="images/CFD_Cow.jpg" /></li>
</ul>
<p>Os <strong>nós</strong> de um cluster são normalmente divididos em três categorias: administração, computação e armazenamento.
Nós de administração implementam um monitoramento distribuído dos demais nós, servem de ponto de entrada para usuários e provêem interface para submissão de tarefas.
O <a href="https://github.com/oscar-cluster/oscar">Oscar</a>, por exemplo, é uma é conjunto de softwares para gerenciamento de clusters.
Uma das ferramentas inclusas no Oscar é o OpenPBS, pelo qual tarefas são atribuídas aos diversos nós do sistema que sejam alocados para tal tarefa. O OpenPBS portanto é também um sistema distribuído.
Finalmente, as tarefas submetidas em si são normalmente aplicações distribuídas. Cada processo executando em uma máquina distinta é normalmente responsável por resolver uma parte do problema.</p>
<p><img alt="CFD" src="images/cfd_domain.png" /></p>
<p>Para facilitar a comunicação entre as partes do domínio, são normalmente utilizadas API como a Message Passing Interface (MPI), que provê funções para distribuição e agregação de dados entre os vários processos.
A função broadcast, por exemplo, envia o mesmo conteúdo para diversos destinatários e a função scatter particiona o dado de acordo com o número de destinatários e envia uma parcela para cada um.</p>
<p><img alt="CFD" src="images/mpi.jpeg" /></p>
<p>Este tipo de sistemas distribuídos são o que chamamos de fortemente acoplados pois a falha em um dos componentes leva normalmente à falha de todo o sistema.
Do ponto de vista deste curso, estamos mais interessados em sistemas fracamente acoplados.</p>
<h3 id="sistemas-de-informacao">Sistemas de Informação</h3>
<p>Provavelmente mais comuns entre os profissionais da computação, os sistemas de informação distribuídos são encontrados em diversas formas. De fato, o termo "sistema de informação" é tão abrangente, que dificilmente um sistema distribuído não estaria nesta classe.
O seguinte é um exemplo de uma arquitetura em três camadas, onde a primeira implementa a interface com o usuário, a segunda contém a lógica do negócio, e a terceira mantem os dados.</p>
<p><a href="https://en.wikipedia.org/wiki/Multitier_architecture"><img alt="3 Tier" src="images/3tier.png" /></a></p>
<p>Peça fundamental desta abordagem, os bancos de dados na terceira camada são frequentemente transacionais.
Isto é, eles provêem as garantias na execução de transações conhecidas como propriedades ACID.</p>
<div class="admonition note">
<p class="admonition-title">ACID</p>
<ul>
<li>Atomicidade: transações são tratadas de forma indivisível, isto é, ou tudo ou nada.</li>
<li>Consistência: transações levam banco de um estado consistente a outro. E.g., <code>x == 2*y</code></li>
<li>Isolamento: transações não vêem dados não comitados umas das outras.</li>
<li>Durabilidade: os efeitos de uma transação comitada devem persistir no sistema a despeito de falhas.</li>
</ul>
</div>
<p>Para relembrar no que implica ACID, considere a seguinte sequência de operações, onde X e Y são valores guardados pelo banco de dados, a, b e c são variáveis definidas no programa, e SELECT e SET são comandos para ler e modificar o banco de dados.</p>
<p><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>1: a = SELECT X
2: c = a * 2
3: b = c + 10
4: SET X=c
5: SET Y=b
</code></pre></div>
</td></tr></table>
Suponha duas instâncias desta sequência, <span class="arithmatex">\(T_1\)</span> e <span class="arithmatex">\(T_2\)</span>, concorrentes, em que as operações escalonadas da seguinte forma.</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code>   T1                T2
1: a = SELECT X
2: c = a * 2
3: b = c + 10
4: SET X=c
5:                    a = SELECT X
6:                    c = a * 2
7:                    b = c + 10
8:                    SET X=c
9:                    SET Y=b
10:SET Y=b
</code></pre></div>
</td></tr></table>
<p>Ao final da execução, X terá o valor atribuído por <span class="arithmatex">\(T_2\)</span>, mas <span class="arithmatex">\(Y\)</span> terá o valor de <span class="arithmatex">\(T_1\)</span>. 
Este escalonamento violou a <strong>consistência</strong> do banco de dados por quê as operações não foram executadas <strong>isoladamente</strong>.</p>
<p>Tente imaginar a dificuldade de se implementar um banco de dados distribuído. 
Isto é, um banco em que vários nós mantem os dados, participam de transações e, portanto, precisam coordenar-se para manter os dados consistentes. 
A figura a seguir mostra um cenário com três bancos. 
Imagine que em um deles está uma relação com os dados dos clientes, em outro, os dados do estoque e no terceiro as ordens de compra. 
Quando um cliente faz um pedido, o cliente deve ser validado no primeiro nó, o item é removido do estoque no segundo nó, e no terceiro é disparada uma cobrança para o cliente. 
Se qualquer destas três relações não for corretamente consultada e alterada, os efeitos podem ser catastróficos para o negócio ou para o cliente.</p>
<div class="mermaid">graph LR
  A[Cliente] --&gt;|Requisição| B{Monitor de Transações}
  B --&gt;|Resposta| A
  B --&gt;|Requisição| C[(Servidor 1)]
  B --&gt;|Requisição| D[(Servidor 2)]
  B --&gt;|Requisição| E[(Servidor 3)]

  C --&gt;|Resposta| B
  D --&gt;|Resposta| B
  E --&gt;|Resposta| B</div>
<p>Como implementar ACID neste banco de dados? 
Embora veremos isso um pouco mais para frente neste material, por enquanto, apenas assuma que não é exatamente fácil ou barato. 
Esta dificuldade foi a razão do surgimento dos bancos de dados NOSQL (née NoSQL), dos quais uma pequena amostra é dada pela seguinte figura.
Tambem discutiremos como estes bancos de dados funcionam, quando falarmos sobre sistemas P2P.</p>
<p><img alt="https://www.algoworks.com/blog/nosql-database/" src="images/nosql.jpeg" /></p>
<h3 id="integracao-de-aplicacoes">Integração de Aplicações</h3>
<p>Frequentemente é necessário integrar sistemas de informação legados com sistemas mais modernos, ou simplesmente expô-los usando uma interface mais moderna. Nestes casos, é possível integrar diversos sistemas usando um <em>middleware</em> que os encapsule.</p>
<p><img alt="01-11" src="images/01-11.png" /></p>
<p>O <em>middleware</em> pode, por exemplo, se expor via interface REST para os clientes, mas consultar o sistema legado em um padrão antigo.</p>
<p>Outro exemplo é o sistema na imagem seguinte, que mostra diversos departamentos de uma empresa conversando via troca de mensagens. 
Observe que nenhum departamento precisa conversar diretamente com os outros, ou mesmo conhecê-los. 
Eles apenas publicam a mensagem para quem puder tratar. 
Da mesma forma, a resposta vem na forma de uma mensagem.</p>
<p><img alt="https://www.codeproject.com/articles/297162/introducing-expert-systems-and-distributed-archite" src="images/mq.png" /></p>
<p>Este é um exemplo de sistema <strong>fracamente acoplado</strong>, pois nenhum componente tem que saber da existência do outro ou se torna indisponível caso os outros falhem.</p>
<p>Siga este <a href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying">link</a> para ler mais sobre este tipo de sistema.</p>
<h3 id="sistemas-pervasivosubiquos">Sistemas Pervasivos/Ubíquos</h3>
<p>Segundo Weiser, 1993</p>
<blockquote>
<p>Ubiquitous computing is the method of enhancing computer use by making many computers available throughout the physical environment, but making them effectively invisible to the user.</p>
</blockquote>
<p>O que é importante aqui é o foco na tarefa em vez de na ferramenta. 
Assim, sistemas pervasivos devem ajudar as pessoas a realizar suas tarefas, de forma implícita, sem ter que pensar em como a tarefa será executada.
Para que seja realizada, a computação pervasiva requer que dispositivos <strong>detectem o contexto</strong> em que estão inseridos, <strong>combinem-se</strong> de forma <em>ad-hoc</em> e <strong>compartilhem</strong> informações.</p>
<div class="admonition example">
<p class="admonition-title">Exemplos fictícios e reais</p>
<div class="tabbed-set" data-tabs="1:3"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><label for="__tabbed_1_1">Smart Life</label><div class="tabbed-content">
<p>Esta é uma visão futurística da Microsoft para a integração de tecnologias.</p>
<p><iframe width="560" height="315" src="https://www.youtube.com/embed/M08fVm6zVyw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
</div>
<input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><label for="__tabbed_1_2">Amazon Go</label><div class="tabbed-content">
<p>Este mercado automatiza o pagamento dos itens escolhidos pelo consumidor, utilizando técnicas de processamento digital de imagens, aprendizado de máquina e sensores.
<iframe width="560" height="315" src="https://www.youtube.com/embed/zdbumR6Bhd8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
</div>
<input id="__tabbed_1_3" name="__tabbed_1" type="radio" /><label for="__tabbed_1_3">Reality Check</label><div class="tabbed-content">
<p>Para quem viu o filme <a href="https://www.imdb.com/title/tt0181689/">Minority Report</a> e sonhou com as UI do futuro, aqui vai um <em>reality check</em>. Para quem não viu ainda, corrija esta falha em sua formação técnica o mais rapidamente possível.
<iframe width="560" height="315" src="https://www.youtube.com/embed/RJ4KxaWraJc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe></p>
</div>
</div>
</div>
<h4 id="redes-de-sensores-e-internet-das-coisas">Redes de Sensores e Internet das Coisas</h4>
<p>Eu vou me arriscar colocando Redes de Sensores e Internet das Coisas como uma subsessão de Sistemas Pervasivos.
Isto porquê, a meu ver, as redes de sensores são parte da infraestrutura para se obter sistemas pervasivos; são os sensores que percebem mudanças contexto e "leêm" o estado do contexto atual e alimentam outros sistemas que reagem a tal estado.
A Internet das Coisas (IoT, do inglês <em>Internet of Things</em>) vai também na mesma linha, levando à integração entre sensores, atuadores, e outros dispositivos que nos servem, em um ambiente de computação pervasiva.
"Mas se é assim, qual o risco?", você pergunta. Bem, a Internet das Coisas pode ser vista como algo além dos sistemas pervasivos, pois se estes últimos são focados nos humanos em um certo contexto, a IoT não necessariamente foca-se nos humanos, mas na realização de alguma tarefa. 
Por exemplo, um sistema de irrigação que percebe o nível de humidade do ar, analisa previsões de chuva e decide em quanto irrigar uma plantação de laranjas provavelmente não se importará com a presença ou não de um humano na plantação.</p>
<p><img alt="https://www.edureka.co/blog/iot-applications/" src="images/iot1.png" /></p>
<p>Para aprender mais sobre IoT, veja este <a href="https://publications.europa.eu/en/publication-detail/-/publication/ed079554-72c3-4b4e-98f3-34d2780c28fc">link</a> que descreve diversos projetos europeus na área.</p>
<details class="todo"><summary>Todo</summary><p>Alguns exemplos de IoT e redes de sensores:</p>
<ul>
<li>Smart grid e lavadora que escolhe horário</li>
<li>Termostatos que percebem movimento</li>
<li>Fechaduras que se abrem quando o dono se aproxima</li>
<li>Movimentação de tropas e de fauna</li>
<li>Índices de poluição</li>
<li>Abalos sísmicos e predição de avalanches</li>
<li><a href="https://beebom.com/examples-of-internet-of-things-technology/">link</a></li>
</ul>
</details>
<h4 id="uma-nota-sobre-privacidade-nos-sistemas-pervasivos">Uma nota sobre privacidade nos sistemas pervasivos</h4>
<p>À medida em que aumentamos o ambiente ao nosso redor ou a nós mesmos com dispositivos computacionais, por um lado facilitamos nossa vida pois somos assistidos por tais dispositivos, mas por outro, nos tornamos cada vez mais dependentes nos mesmos, com sérios riscos à nossa privacidade.
Isto ocorre por que para que realizem suas tarefas, os sistemas pervasivos precisam de cada vez mais informações sobre nós, e há sempre o risco de que estas informações sejam usadas de forma que não nos apetece.</p>
<details class="todo"><summary>Todo</summary><p>Exemplos de problemas de privacidade.</p>
<ul>
<li><a href="https://www.nytimes.com/2017/07/25/technology/roomba-irobot-data-privacy.html">Roomba mapeando sua casa</a>.</li>
<li>Ghost in the shell</li>
<li>Snow crash</li>
</ul>
</details>
<h3 id="computacao-utilitaria">Computação Utilitária</h3>
<p>Um tipo importante de sistema distribuído mais recente são as nuvens computacionais, usadas no provimento de computação utilitária.
Este tipo de sistema, embora possa ser pensando como infraestrutura para outros sistemas distribuídos, são, na verdade, complexas peças de engenharia, com diversos subsistemas responsáveis por sincronização de relógios, monitoração de falhas, coleta de logs, roteamento eficiente tolerante a falhas, movimentação de recursos virtualizados para consolidação de recursos físicos, armazenamento redundante de dados, etc.</p>
<p>O seguinte vídeo mostra, em 360 graus, um dos datacenters do Google, para que você tenha ideia da escala em que estes sistemas são construídos.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/zDAYZU4A3w0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<p>Para uma viagem fotográfica, siga este <a href="https://www.google.com/about/datacenters/gallery/#/all">link</a></p>
<h2 id="projeto">Projeto</h2>
<p>Como puderam ver até agora, a área de computação distribuída é rica aplicações e desenvolvê-los é topar de frente com vários problemas e decidir como resolvê-los ou contorná-los e, por isto, nada melhor que um projeto para experimentar em primeira mão as angústias e prazeres da área. Assim, proponho visitarmos o material destas notas à luz de uma aplicação genérica mas real, desenvolvida por vocês enquanto vemos a teoria.</p>
<p>O projeto consiste em uma aplicação com dois tipos de usuários, os clientes e os administradores. Você pode pensar em termos de compradores e lojistas, pacientes e médicos, ou consumidores e produtores de conteúdo. As funcionalidades são expostas para estes usuários via duas aplicações distintas, o <strong>portal do cliente</strong>  e o <strong>portal administrativo</strong>, mas ambos manipulam a mesma base de dados. A base de dados é particionada usando <em>consistent hashing</em> e as partições são mantidas em memória apenas. Uma terceira camada provê persistência de dados e tolerância a falhas, replicando os dados. A imagem descreve a aplicação.</p>
<p><img alt="Projeto" src="drawings/projeto.drawio-0.svg" /></p>
<p>Apesar de introduzir complexidade extra, usaremos diversos mecanismos para a comunicação entre as partes, para que possam experimentar com diversas abordagens.</p>
<ul>
<li>Cliente &lt;-&gt; Portal cliente - Sockets</li>
<li>Administrador &lt;-&gt; Portal administrativo - RPC</li>
<li>Portais &lt;-&gt; Cache - <em>Publish-Subscribe</em>/Fila de mensagens</li>
<li>Cache &lt;-&gt; Banco de dados - Comunicação em grupo</li>
</ul>
<p>A arquitetura também será híbrida, contendo um pouco de Cliente/Servidor e Peer-2-Peer, além de ser multicamadas.</p>
<h3 id="etapa-1-usuariosportais">Etapa 1 - Usuários/Portais</h3>
<ul>
<li>
<p>Portal Cliente</p>
<ul>
<li>O Cliente possui identificador único, CID</li>
<li>O Cliente tem um "saco" de dados com diversas entradas armazenados no sistema, que podem ser manipuladas individualmente ou em conjunto.<ul>
<li>inserirTarefa(CID, "titulo da tarefa", "descrição da tarefa"): Sucesso/Falha</li>
<li>modificarTarefa(CID, "titulo da tarefa", "nova descrição da tarefa"): Sucesso/Falha</li>
<li>listarTarefas(CID): List<Pair\<titulo,Descrição>></li>
<li>apagarTarefas(CID): Sucesso/Falha</li>
<li>apagarTarefa(CID, "titulo da tarefa"): Sucesso/Falha</li>
</ul>
</li>
<li>Os dados são mantidos em uma tabela hash (BigInteger<sup id="fnref2:int64"><a class="footnote-ref" href="#fn:int64">12</a></sup>,Bytes)</li>
<li>A comunicação entre cliente e portal cliente se dá por sockets TCP/IP.</li>
</ul>
</li>
<li>
<p>Portal Administrativo</p>
<ul>
<li>O Administrador gera um CID para cada cliente, baseado em seu nome ou outro atributo único.</li>
<li>O Administrador manipula clientes<ul>
<li>inserirCliente(CID, "dados do cliente"): Sucesso/Falha</li>
<li>modificarCliente(CID, "novos dados do cliente"): Sucesso/Falha</li>
<li>recuperarCliente(CID): "dados do cliente"</li>
<li>apagarCliente(CID): Sucesso/Falha</li>
</ul>
</li>
<li>Os dados são mantidos em uma tabela hash (BigInteger<sup id="fnref:int64"><a class="footnote-ref" href="#fn:int64">12</a></sup>,Bytes)</li>
<li>A comunicação entre Administrador e portal Administrativo se dá por gRPC.</li>
</ul>
</li>
<li>
<p>Os portais sicronizam suas bases de dados</p>
<ul>
<li>A sincronização acontece via MQTTP ou Kafka.</li>
<li>As bases poderão ficar inconsistentes, mas isso será resolvido na etapa 2.</li>
</ul>
</li>
<li>
<p>Clientes e Administradores devem ter uma aplicação para acesso aos portais.</p>
</li>
</ul>
<h3 id="etapa-2-cache">Etapa 2 - Cache</h3>
<p>Nesta segunda etapa você modificará o sistema para que os portais, em vez de armazenar os dados em tabelas hash locais, o façam em uma tabela remota, compartilhada entre os portais.
A tabela hash remota é particionada para permitir o armazenamento de mais dados do que caberiam em apenas um computador. Isto é, é essencialmente uma Distributed Hash Table, a base dos bancos de dados NoSQL como Redis, Memcached ou Cassandra.</p>
<ul>
<li>Portais<ul>
<li>Os dados são armazenados no banco distribuído</li>
<li>A comunicação com o banco é feita via MQTTP ou Kafka</li>
</ul>
</li>
<li>Banco<ul>
<li>As partições usam <em>consistent hashing</em>  para distribuir os dados</li>
<li>Uma requisição feita para a partição errada deve ser encaminhada para a partição correta usando o algoritmo de roteamento Chord.</li>
</ul>
</li>
</ul>
<h3 id="etapa-3-durabilidade">Etapa 3 - Durabilidade</h3>
<p>Nesta etapa tornaremos todas as operações feitas no banco de dados permanentes por meio de um log remoto ou pela replicação das partições. Mais detalhes se seguirão.</p>
<p><img alt="Arquitetura Etapa 2" src="drawings/abcast.drawio-0.svg" /></p>
<div class="footnote">
<hr />
<ol>
<li id="fn:centr">
<p>Neste ponto, devo estressar que muitos se referem a sistemas não-distribuídos como <strong>centralizados</strong> mas preferimos reservar este termo para sistemas distribuídos que usam um processo centralizador. O termo monolítico também é muito usado em contraposição à arquitetura de micro-serviços, mas sentimos que este uso está de acordo com o uso que fazemos aqui.&#160;<a class="footnote-backref" href="#fnref:centr" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:embed">
<p>Escolhemos aqui ignorar o argumento muito plausível de que um algoritmo distribuído poderia ser executado entre, por exemplo, diversos chips em uma mesma placa.&#160;<a class="footnote-backref" href="#fnref:embed" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:failures">
<p><a href="http://people.iiis.tsinghua.edu.cn/~weixu/Krvdro9c/dsn17-wang.pdf">What Can We Learn from Four Years of Data Center Hardware Failures?</a>&#160;<a class="footnote-backref" href="#fnref:failures" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:scaling">
<p>Mesmo que o custo não fosse um problema, seria impossível implementar <em>scale up</em> funcionalmente além de um certo limite, pois o computador teria que ser tão grande que suas partes teriam que ser tratadas independentemente, revertendo a um cenário <em>scale out</em> custoso demais.&#160;<a class="footnote-backref" href="#fnref:scaling" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:recursos">
<p>Os recursos compartilhados vão desde alguns óbvios, como <strong>capacidade de armazenamento</strong> e de <strong>processamento</strong>, a própria <strong>localização</strong> de um nó, que pode ser geograficamente mais próxima e de menor latência até  um ponto de interesse, ou até mesmo a disponibilidade de uma conexão física com um recurso especial, como uma impressora.&#160;<a class="footnote-backref" href="#fnref:recursos" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
<li id="fn:ogros">
<p>Lembrem-se que também <img alt="ogros são como cebolas" src="https://media.giphy.com/media/4RsEUfHym7tuw/200.gif" /> e você não quer que seu sistema seja como ogros, temperamentais e mal-cheirosos. Logo, planeje bem suas camadas de abstração.&#160;<a class="footnote-backref" href="#fnref:ogros" title="Jump back to footnote 6 in the text">&#8617;</a></p>
</li>
<li id="fn:0101">
<p>Distributed Systems: Principles and Paradigms. Capítulo 1, Figura 1.&#160;<a class="footnote-backref" href="#fnref:0101" title="Jump back to footnote 7 in the text">&#8617;</a></p>
</li>
<li id="fn:IEEEFP">
<p><a href="https://www.tutorialspoint.com/fixed-point-and-floating-point-number-representations">IEEE Floating Point</a>&#160;<a class="footnote-backref" href="#fnref:IEEEFP" title="Jump back to footnote 8 in the text">&#8617;</a></p>
</li>
<li id="fn:IBMFP">
<p><a href="https://en.wikipedia.org/wiki/IBM_hexadecimal_floating_point#Single-precision_32-bit">IBM Floating Point</a>&#160;<a class="footnote-backref" href="#fnref:IBMFP" title="Jump back to footnote 9 in the text">&#8617;</a></p>
</li>
<li id="fn:stringjava">
<p>Simplificações são possíveis, mas introduzem outras complexidades.&#160;<a class="footnote-backref" href="#fnref:stringjava" title="Jump back to footnote 10 in the text">&#8617;</a></p>
</li>
<li id="fn:stadia">
<p>O <a href="https://stadia.google.com/">Google stadia</a> é uma plataforma de jogos que vai na contramão desta ideia, levando todo o processamento pesado para a nuvem.&#160;<a class="footnote-backref" href="#fnref:stadia" title="Jump back to footnote 11 in the text">&#8617;</a></p>
</li>
<li id="fn:int64">
<p>Inteiro de 64 bits não é BigInteger.&#160;<a class="footnote-backref" href="#fnref:int64" title="Jump back to footnote 12 in the text">&#8617;</a><a class="footnote-backref" href="#fnref2:int64" title="Jump back to footnote 12 in the text">&#8617;</a></p>
</li>
</ol>
</div>

  <!-- Last update of source file -->


              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href=".." class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Anterior
                </span>
                Prefácio
              </div>
            </div>
          </a>
        
        
          <a href="../basics/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Próximo
                </span>
                Fundamentos
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/vendor.18f0862e.min.js"></script>
      <script src="../assets/javascripts/bundle.994580cf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.placeholder": "Digite para iniciar a busca", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "..",
          features: [],
          search: Object.assign({
            worker: "../assets/javascripts/worker/search.9c0e82ba.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../javascripts/mathjaxhelper.js"></script>
      
    
  </body>
</html>