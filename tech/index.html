
<!doctype html>
<html lang="pt" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>Tecnologias - Notas em Sistemas Distribuídos</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../css/extra.css">
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-PJX835H7DP","lasarojc.github.org/dsnotes"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    
    <script>function __prefix(e){return new URL("..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#blockchain" class="md-skip">
          Ir para o conteúdo
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Notas em Sistemas Distribuídos" class="md-header__button md-logo" aria-label="Notas em Sistemas Distribuídos" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Notas em Sistemas Distribuídos
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Tecnologias
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Buscar" placeholder="Buscar" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/lasarojc/ds_notes" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Notas em Sistemas Distribuídos" class="md-nav__button md-logo" aria-label="Notas em Sistemas Distribuídos" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Notas em Sistemas Distribuídos
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/lasarojc/ds_notes" title="Ir ao repositório" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../preface/" class="md-nav__link">
        Prefácio
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../intro/" class="md-nav__link">
        Introdução
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        Comunicação
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Comunicação" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Comunicação
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/" class="md-nav__link">
        Introdução
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/redes/" class="md-nav__link">
        Redes
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/internet/" class="md-nav__link">
        Internet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/sockets/" class="md-nav__link">
        Sockets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/datarep/" class="md-nav__link">
        Representação
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/middleware/" class="md-nav__link">
        Middlewares
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/rpc/" class="md-nav__link">
        RPC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/mom/" class="md-nav__link">
        MOM
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/epidemics/" class="md-nav__link">
        Epidêmicos
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../comm/refs/" class="md-nav__link">
        Referências
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      <label class="md-nav__link" for="__nav_4">
        Arquiteturas
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Arquiteturas" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Arquiteturas
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../arch/arch/" class="md-nav__link">
        Introdução
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../arch/p2p/" class="md-nav__link">
        P2P
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../arch/microservices/" class="md-nav__link">
        Microsserviços
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fundamentals/" class="md-nav__link">
        Modelos
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      <label class="md-nav__link" for="__nav_6">
        Coordenação
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Coordenação" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Coordenação
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../coord/concurrency/" class="md-nav__link">
        Concorrência
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../coord/coord/" class="md-nav__link">
        Coordenação
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../time/" class="md-nav__link">
        Tempo
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../fault/" class="md-nav__link">
        Tolerância a Falhas
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../consistency/" class="md-nav__link">
        Consistência
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../disdb/" class="md-nav__link">
        Bancos de Dados
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../disfs/" class="md-nav__link">
        Sistemas de Arquivos
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      <label class="md-nav__link" for="__nav_12">
        Estudos de Caso
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Estudos de Caso" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Estudos de Caso
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/" class="md-nav__link">
        Introdução
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/cassandra/" class="md-nav__link">
        Cassandra
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/chord/" class="md-nav__link">
        Chord
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/dynamo/" class="md-nav__link">
        Dynamo
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/grpc/" class="md-nav__link">
        gRPC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/mosquito/" class="md-nav__link">
        Mosquito
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/rmi/" class="md-nav__link">
        RMI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/thrift/" class="md-nav__link">
        Thrift
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/kafka/" class="md-nav__link">
        Kafka
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/refs/" class="md-nav__link">
        Referências
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cases/swim/" class="md-nav__link">
        Swim
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Tecnologias
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Tecnologias
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#blockchain" class="md-nav__link">
    Blockchain
  </a>
  
    <nav class="md-nav" aria-label="Blockchain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitcoin" class="md-nav__link">
    Bitcoin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contratos-inteligentes" class="md-nav__link">
    Contratos inteligentes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-sincronizar-duas-maquinas" class="md-nav__link">
    Como sincronizar duas máquinas?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rabin-fingerprinting" class="md-nav__link">
    Rabin Fingerprinting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-small-piece-of-big-data" class="md-nav__link">
    A Small Piece of Big Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estudo-de-caso-kafka" class="md-nav__link">
    Estudo de caso: Kafka
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serverless" class="md-nav__link">
    Serverless
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../projeto/" class="md-nav__link">
        Projeto
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Índice">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Índice
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#blockchain" class="md-nav__link">
    Blockchain
  </a>
  
    <nav class="md-nav" aria-label="Blockchain">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bitcoin" class="md-nav__link">
    Bitcoin
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#contratos-inteligentes" class="md-nav__link">
    Contratos inteligentes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-sincronizar-duas-maquinas" class="md-nav__link">
    Como sincronizar duas máquinas?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#rabin-fingerprinting" class="md-nav__link">
    Rabin Fingerprinting
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-small-piece-of-big-data" class="md-nav__link">
    A Small Piece of Big Data
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#estudo-de-caso-kafka" class="md-nav__link">
    Estudo de caso: Kafka
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#serverless" class="md-nav__link">
    Serverless
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              

<!-- Edit button -->


  <!--
       Hack: check whether the content contains a h1 headline. If it
       doesn't, the page title (or respectively site name) is used
       as the main headline.
    -->

  <h1>Tecnologias</h1>


  <!-- Content -->
  <p>O objetivo deste capítulo é visitar algumas técnicas e tecnologias recentes e interessantes na área de sistemas distribuídos. Não espere então que as várias seções sejam conexas umas com as outras.</p>
<h2 id="blockchain">Blockchain</h2>
<p>Em uma cadeia de suprimentos (<em>supply chain</em>) temos, em vários níveis, <strong>Clientes</strong>, <strong>Vendedores</strong> e <strong>Fornecedores</strong>, que estabelecem <strong>contratos</strong> de <strong>bens</strong> e <strong>serviços</strong>.
As interações multipartido de trocas de bens podem ser registradas em <strong>livros razão</strong> mantidos independentemente pelos participantes, registrando cada troca de bens envolvendo o participante responsável.
Considere o bem "bananas".
Assim, o produtor registra quantas carretas de bananas vendeu e o atravessador quantas comprou, ainda na roça.
O atravessador registra quantas carretas vendeu para o exportador e o exportador quantas comprou, no porto.
O exportador registra quantas toneladas exportou e o importador quantas recebeu.
O importador registra quantos cachos entregou para cada cadeia de supermercado, e assim por diante até que chegue ao consumidor.</p>
<p>A um consumidor, o cliente final na cadeia, seria interessante saber quem produziu o cacho de bananas que está comprando, se a produção é livre de trabalho escravo, se o transporte foi feito dentro de parâmetros corretos de temperatura, se não violou tratados de rotas marítimas para proteger baleias, e assim por diante. 
Essencialmente, seria interessante rastrear como o bem "bananas" foi transferido de mão em mão até chegar à feira livre, para decidir se deve ou não comprá-lo, pelo preço pedido.</p>
<p>Além de bananas, há diversos outros <strong>bens</strong> dos quais precisamos rastrear a proveniência, tanto bens tangíveis (e.g., <strong>casa</strong>) quanto intangíveis (e.g., <strong>patente</strong>),  nominais (e.g., <strong>promissória</strong>) e ao portador (e.g., <strong>dinheiro "vivo"</strong>), etc.
Esta abordagem <strong>dificilmente permitiria aos participantes ou auditores reconstruir todo o trajeto</strong>, que dirá um consumidor na ponta, além ser <strong>suscetível a modificações</strong>, intencionais ou não.</p>
<p><strong><em>Blockchains</em></strong> são uma alternativa para a construção de um "livro razão" que é <strong>compartilhado</strong>, <strong>incorruptível</strong>, <strong>decentralizado</strong> e "facilmente" auditável.
A primeira blockchain foi introduzida por Satoshi Nakamoto<sup id="fnref:nakamoto"><a class="footnote-ref" href="#fn:nakamoto">1</a></sup> no artigo <a href="https://bitcoin.org/bitcoin.pdf">Bitcoin: A Peer-to-Peer Electronic Cash System</a>, destinada a "rastrear" a troca da moeda digital <a href="https://bitcoin.org">bitcoin</a>.
Desde então, diversas outras <em>blockchains</em>, como evidenciado nesta <a href="https://medium.com/wikidlt/a-complete-list-of-blockchain-platforms-2020-49cf01ee6688">lista</a>, foram desenvolvidas com diferentes usos e funcionalidades.
De forma geral, podemos caracterizar blockchains como tendo as seguintes propriedades:</p>
<ul>
<li>Decentralização: os dados são mantidos por centenas ou milhares de nós, usando protocolo P2P, e o sistemas não é facilmente subjugável.</li>
<li>Consenso: todos os participantes vêem, eventualmente, a mesma sequência de transações.</li>
<li>Proveniência: todo o histórico de um bem é mantido na <em>blockchain</em> e pode ser lido.</li>
<li>Imutabilidade: entradas na blockchain não podem ser alteradas.</li>
<li>Finalidade: entradas na blockchain não podem ser refutadas (o que impede o gasto duplo).</li>
</ul>
<p>John Oliver, apresentador do <em>Last Week Tonight</em>, descreveu bitcoin em março de 2018 como sendo </p>
<blockquote>
<p>Everything you don't understand about money, combined with everything you don't understand about technology.</p>
</blockquote>
<p>A complexidade aumenta com as funcionalidades das demais blockchains, pois nestas, diferentes tipos de bens podem ser registrados, usuários podem ser identificáveis, os registros podem ser auditáveis sobe certas circunstâncias, e o consumo de energia exorbitante pode ser drasticamente reduzido.
Mas começemos do começo e falemos sobre Bitcoin.</p>
<h3 id="bitcoin">Bitcoin</h3>
<p>Bitcoin é uma moeda digital, usada para comprar <a href="https://www.moneytimes.com.br/ha-11-anos-duas-pizzas-foram-compradas-por-10-btc-agora-equivalentes-a-us-377-milhoes/">pizzas</a>, <a href="https://www.reuters.com/article/mexico-bitcoin-insight-idUSKBN28I1KD">drogas</a> e <a href="https://www.bbc.com/news/business-57096305"><del>teslas</del></a>.
Também é tido por muitos como investimento, mas neste aspecto, veja o gráfico e tire suas próprias conclusões.</p>
<div style="height:560px; background-color: #FFFFFF; overflow:hidden; box-sizing: border-box; border: 1px solid #56667F; border-radius: 4px; text-align: right; line-height:14px; font-size: 12px; font-feature-settings: normal; text-size-adjust: 100%; box-shadow: inset 0 -20px 0 0 #56667F;padding:1px;padding: 0px; margin: 0px; width: 100%;"><div style="height:540px; padding:0px; margin:0px; width: 100%;"><iframe src="https://widget.coinlib.io/widget?type=chart&theme=light&coin_id=859&pref_coin_id=1505" width="100%" height="536px" scrolling="auto" marginwidth="0" marginheight="0" frameborder="0" border="0" style="border:0;margin:0;padding:0;line-height:14px;"></iframe></div><div style="color: #FFFFFF; line-height: 14px; font-weight: 400; font-size: 11px; box-sizing: border-box; padding: 2px 6px; width: 100%; font-family: Verdana, Tahoma, Arial, sans-serif;"><a href="https://coinlib.io" target="_blank" style="font-weight: 500; color: #FFFFFF; text-decoration:none; font-size:11px">Cryptocurrency Prices</a>&nbsp;by Coinlib</div></div>

<p>Mas como funciona a blockchain do bitcoin?
Vejamos um exemplo, nos mesmos moldes da cadeia da bitcoin.
Em primeiro lugar, para a construção da cadeia, precisamos de funções hash.
Como sabem, pequenas modificações na entrada da função hash levam a grandes alterações na saída.
Por exemplo, </p>
<ul>
<li><span class="arithmatex">\(sha256(lasaro) = 0490cc073d98dad147ec3d7348bfd54759ce7ef0134d02f28641c8cede61e5f4\)</span></li>
<li><span class="arithmatex">\(sha256(lásaro) = dc2a5d1a6fb23c8449d0be17d412309a97b208efbec67254524bdac0a9dcf1ae\)</span>.</li>
</ul>
<p><a href="https://andersbrownworth.com/blockchain/hash">https://andersbrownworth.com/blockchain/hash</a></p>
<p>Tendo funções hash, podemos construir blocos da cadeia.
A princípio, cada cada bloco na cadeia tem</p>
<ul>
<li>um identificador único</li>
<li>um conjunto de transações, no estilo passe 10 moedas do Jaquim para o José</li>
<li>um número aleatório conhecido como <strong>nonce</strong>, um tempero para o bloco.</li>
</ul>
<p>Para cada bloco, precisamos calcular também seu hash. Dada a propriedade vista acima, sabemos que pequenas modificações nos dados de um bloco levam a grandes modificações no hash do bloco em si.
Logo, pequenas modificações em qualquer dos campos descritos, leva a mudanças no hash do bloco.</p>
<p><a href="https://andersbrownworth.com/blockchain/block">https://andersbrownworth.com/blockchain/block</a></p>
<p>Como próximo passo, precisamos encadear os blocos e, para isto, usamos identificadores sequenciais e adicionamos a cada bloco o hash do bloco anterior.
Isto é, cada bloco referencia o anterior, guardando um resumo do mesmo.</p>
<p><a href="https://andersbrownworth.com/blockchain/blockchain">https://andersbrownworth.com/blockchain/blockchain</a></p>
<p>Dado que modificações no bloco mudam seu hash, alterações em um bloco da cadeia leva o bloco seguinte a ter um hash anterior inválido, quebrando a cadeia.
É esta característica que leva à imutabilidade de partes antigas da cadeia.</p>
<p>Mas como os blocos são construídos? Este é um processo conhecido como mineração.</p>
<p><a href="https://andersbrownworth.com/blockchain/blockchain">https://andersbrownworth.com/blockchain/blockchain</a></p>
<p>É com a mineração que novos blocos são construídos mas não adianta minerar se os blocos não forem aceitos pela comunidade.</p>
<p><a href="https://andersbrownworth.com/blockchain/distributed">https://andersbrownworth.com/blockchain/distributed</a></p>
<p>Assim, embora partes antigas da cadeia sejam estáveis, partes recentes podem ser modificadas, uma vez que processos podem mudar de opinião sobre quais os últimos blocos na cadeia.</p>
<h3 id="contratos-inteligentes">Contratos inteligentes</h3>
<p>Os termos do negócio são mantidos na blockchain: "Se na data X a entidade E não tiver transferido D dinheiros para a entidade F, então transfira o asset A de E para F."</p>
<p>Se quiser saber mais, consulte esta pequena <a href="https://www.paperdigest.org/2020/06/recent-papers-on-blockchain-bitcoin/">lista</a> artigos sobre <em>blockchain</em>.</p>
<details class="todo"><summary>Todo</summary><ul>
<li>NFT</li>
<li>Smart-contracts</li>
<li>grupos pequenos e aleatórios como certificadores.</li>
<li>proof-of-stake</li>
</ul>
</details>
<h2 id="como-sincronizar-duas-maquinas">Como sincronizar duas máquinas?</h2>
<ul>
<li>Abordagem 1<ul>
<li>Copie os arquivos da fonte para o destino</li>
</ul>
</li>
<li>Abordagem 2<ul>
<li>Produza um hash do arquivo</li>
<li>Troque o hash com a outra máquina</li>
<li>Se hashes iguais, pronto.</li>
<li>Se hashes diferentes, copie o arquivo para a outra máquina.</li>
</ul>
</li>
<li>Abordagem 3 - Merkle Tree<sup id="fnref:madsmt"><a class="footnote-ref" href="#fn:madsmt">2</a></sup><ul>
<li>Divida o arquivo em blocos de mesmo tamanho</li>
<li>Faça um hash de cada bloco</li>
<li>Se mais de um hash gerado, <ul>
<li>Concatene hashes duas a duas; cada concatenação resulta em um novo bloco.</li>
<li>Repita o processo; os hashes resultantes correspondem a uma árvore<br />
<img alt="Merkle Tree" src="../drawings/merkle.drawio-0.svg" /></li>
</ul>
</li>
<li>Troque hashes da raiz.<ul>
<li>Se hashes iguais, pronto.</li>
<li>Se hashes diferentes troque hashes das raizes das subárvores e execute recursivamente.
<img alt="Merkle Tree" src="../drawings/merkle.drawio-1.svg" /></li>
</ul>
</li>
</ul>
</li>
</ul>
<details class="question"><summary>Se um byte é adicionado no meio do arquivo?</summary><p><img alt="Merkle Tree" src="../drawings/merkle.drawio-2.svg" /></p>
</details>
<p>A conclusão é que blocos com tamanho pré-definido são problemáticos e que precisamos de blocos definidos pelo conteúdo. Por exemplo, em um texto, uma possibilidade é definir um bloco como um período ou um parágrafo; se uma palavra é inserida no texto, , somente o bloco em que foi inserida é modificado e somente o hash do mesmo terá novo valor. Mas esta abordagem não é genérica, pois qual o correspondente em uma imagem ou um áudio ou em um arquivo <code>tgz</code>?</p>
<h2 id="rabin-fingerprinting">Rabin Fingerprinting</h2>
<div class="admonition todo">
<p class="admonition-title">Rabin Fingerprint</p>
<p><a href="https://en.wikipedia.org/wiki/Rolling_hash">Rolling Hash</a></p>
</div>
<h2 id="a-small-piece-of-big-data">A Small Piece of Big Data</h2>
<div class="admonition quote">
<p class="admonition-title"><a href="https://en.wikipedia.org/wiki/Big_data">Big-Data</a></p>
<p>Big data is a term for data sets that are so large or complex that traditional data processing application software is inadequate to deal with them.</p>
</div>
<p>Ciclo convencional:</p>
<ul>
<li>Coleta</li>
<li>Armazenamento</li>
<li>Análise</li>
<li>Consulta</li>
<li>Compartilhamento</li>
<li>Visualização</li>
<li>Atualização
...</li>
</ul>
<p>Áreas</p>
<p>Grandes massas de dados:</p>
<ul>
<li>Propaganda</li>
<li>Astronomia</li>
<li>Ciência</li>
<li>e-governos</li>
<li>meteorologia</li>
<li>genomics</li>
</ul>
<p>Dados
Internet das coisas
sensoriamento remoto
suas fotos
logs de software
RFID
redes de sensores
...</p>
<p>Quão grande é ``big'' o suficiente? 
Depende dos dados, ferramentas, e capacidade de manipulá-los. 
Uma vez dado um passo, o alvo passa a ser o próximo passo. 
Isso quer dizer que vai de alguns TB até Petabytes, dependendo do problema.</p>
<div class="admonition quote">
<p class="admonition-title">Gartner, 2012</p>
<p>Big data is high volume, high velocity, and/or high variety information assets that require new forms of processing to enable enhanced decision making, insight discovery and process optimization.</p>
<ul>
<li>Volume: incapacidade de armazenar todos os dados; apenas observe e guarde conclusões</li>
<li>Velocidade: dados passando em ``tempo real''</li>
<li>Variedade: imagens, vídeos, áudio, temperatura,...</li>
<li>Machine learning para automação de extração de informação, por exemplo, detecção de padrões, sem se preocupar com o porquê dos mesmos.</li>
</ul>
</div>
<p>Como lidar?</p>
<ul>
<li>Bancos de dados colunares</li>
<li>Stream DBs</li>
<li>MapReduce</li>
<li>...</li>
</ul>
<p>Map Reduce</p>
<ul>
<li>Google, 2004</li>
<li>Processamento distribuído</li>
<li>Processa arquivos no Google FS</li>
</ul>
<p><img alt="" src="../images/gfs4.png" /></p>
<p>Chubby</p>
<ul>
<li>Google, 2006</li>
</ul>
<p><img alt="" src="images/chubby1.png" /></p>
<p>Hadoop</p>
<ul>
<li>HDFS: Hadoop Distributed File System</li>
<li>Map Reduce</li>
<li>Yahoo!</li>
<li>Open source em 2011, 1.0.0</li>
<li>2012, 2.0.0,</li>
<li>2017, 3.0.0</li>
<li>nov 2018, 2.9.2</li>
</ul>
<p>Ecosistema</p>
<ul>
<li>Hive: data warehouse</li>
<li>Spark: </li>
<li>Kafka</li>
<li>Yarn</li>
<li>Pig: linguagem para especificação de data flow.</li>
<li>HBase: banco de dados estruturado</li>
<li>Sqoop</li>
<li>Flume</li>
<li>Oozie</li>
<li>Avro: serialização</li>
<li>Mahout: machine learning</li>
</ul>
<p>HDFS</p>
<ul>
<li>Distribuído</li>
<li>Escalável</li>
<li>Cost effective</li>
<li>Tolerante a falhas</li>
<li>Alta vazão</li>
</ul>
<p>Arquitetura</p>
<ul>
<li>Rack e rack failure</li>
<li>Top of rack switch</li>
<li>Core switch</li>
<li>Name Node: nomes das pastas e arquivos</li>
<li>Data Node: conteúdo dos arquivos</li>
<li>Cliente</li>
</ul>
<p>Arquitetura</p>
<ul>
<li>Crie arquivo: cliente -&gt; name node</li>
<li>Escreva um block (e.g., 128MB): cliente</li>
<li>Aloque block: cliente -&gt; name node</li>
<li>Salve os dados: cliente -&gt; data node</li>
<li>Heartbeat block report: data node -&gt; name node</li>
<li>Dados são replicados (RF configurado por arquivo): Data node -&gt; data node</li>
</ul>
<p>Name node</p>
<p>Dados em memory e edit log.</p>
<ul>
<li>Name node é um SPOF? </li>
<li>Quorum Journal Manager replica edit log.</li>
<li>Standby Name Node</li>
<li>Zookeeper usado para decidir quem é o líder</li>
<li>Secondary Name Node replica checkpoint da imagem em memória.</li>
</ul>
<p>MapReduce</p>
<ul>
<li>Programação funcional</li>
<li>Map: (map length (() (a) (a b c)) = (0 1 3))</li>
<li>Fold/Reduce: (reduce + (1 2 3)) = 6</li>
</ul>
<p>MapReduce</p>
<ul>
<li>Não há dependência entre os dados</li>
<li>Dados divididos em \emph{shards}</li>
<li>Execução paralela e distribuída</li>
<li>Trabalhador recebe um shard</li>
<li>Mestre agrega valores</li>
<li>Milhares de processos</li>
<li>Petabytes de dados</li>
</ul>
<p>MapReduce</p>
<ul>
<li>Shards são arquivos do GFS/HDFS/EC2</li>
<li>Função mapeada a cada shard</li>
<li>Resultado é lista de chaves e valores</li>
<li>Agregação acontece por chaves</li>
<li>Resultado são arquivos no GFS/HDFS/EC2</li>
</ul>
<p>MapReduce</p>
<p><img alt="" src="../images/mapreduce1.png" /></p>
<p><img alt="" src="../images/mapreduce2.png" /></p>
<p>Exemplo
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">...</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">WordCount</span> 
<span class="p">{</span>
 <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">TokenizerMapper</span> 
 <span class="kd">extends</span> <span class="n">Mapper</span><span class="o">&lt;</span><span class="n">Object</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">IntWritable</span><span class="o">&gt;</span>
 <span class="p">{</span>
  <span class="kd">private</span> <span class="kd">final</span> <span class="kd">static</span> <span class="n">IntWritable</span> <span class="n">one</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IntWritable</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="kd">private</span> <span class="n">Text</span> <span class="n">word</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Text</span><span class="p">();</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">map</span><span class="p">(</span><span class="n">Object</span> <span class="n">key</span><span class="p">,</span> <span class="n">Text</span> <span class="n">value</span><span class="p">,</span> <span class="n">Context</span> <span class="n">context</span><span class="p">)</span> 
   <span class="kd">throws</span> <span class="n">IOException</span><span class="p">,</span> <span class="n">InterruptedException</span> 
  <span class="p">{</span>
   <span class="n">StringTokenizer</span> <span class="n">itr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringTokenizer</span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="na">toString</span><span class="p">());</span>
   <span class="k">while</span> <span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">hasMoreTokens</span><span class="p">())</span> 
   <span class="p">{</span>
    <span class="n">word</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">itr</span><span class="p">.</span><span class="na">nextToken</span><span class="p">());</span>
    <span class="n">context</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">word</span><span class="p">,</span> <span class="n">one</span><span class="p">);</span>
   <span class="p">}</span>
  <span class="p">}</span> 
 <span class="p">}</span>
<span class="p">...</span>
</code></pre></div>
</td></tr></table></p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20</pre></div></td><td class="code"><div class="highlight"><pre><span></span><code><span class="p">...</span>
 <span class="kd">public</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">IntSumReducer</span> 
  <span class="kd">extends</span> <span class="n">Reducer</span><span class="o">&lt;</span><span class="n">Text</span><span class="p">,</span><span class="n">IntWritable</span><span class="p">,</span><span class="n">Text</span><span class="p">,</span><span class="n">IntWritable</span><span class="o">&gt;</span> 
 <span class="p">{</span> 
  <span class="kd">private</span> <span class="n">IntWritable</span> <span class="n">result</span> <span class="o">=</span> <span class="k">new</span> <span class="n">IntWritable</span><span class="p">();</span>
  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">reduce</span><span class="p">(</span><span class="n">Text</span> <span class="n">key</span><span class="p">,</span> <span class="n">Iterable</span><span class="o">&lt;</span><span class="n">IntWritable</span><span class="o">&gt;</span> <span class="n">values</span><span class="p">,</span> <span class="n">Context</span> <span class="n">context</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="p">,</span> <span class="n">InterruptedException</span> 
  <span class="p">{</span>
   <span class="kt">int</span> <span class="n">sum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
   <span class="k">for</span> <span class="p">(</span><span class="n">IntWritable</span> <span class="n">val</span> <span class="p">:</span> <span class="n">values</span><span class="p">)</span> 
    <span class="n">sum</span> <span class="o">+=</span> <span class="n">val</span><span class="p">.</span><span class="na">get</span><span class="p">();</span>
   <span class="n">result</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">sum</span><span class="p">);</span>
   <span class="n">context</span><span class="p">.</span><span class="na">write</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">result</span><span class="p">);</span>
  <span class="p">}</span>
 <span class="p">}</span>

 <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="p">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="p">)</span> <span class="kd">throws</span> <span class="n">Exception</span> 
 <span class="p">{</span>
  <span class="p">...</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
</td></tr></table>
<p><a href="https://hadoop.apache.org/docs/current/hadoop-mapreduce-client/hadoop-mapreduce-client-core/MapReduceTutorial.html#Example:_WordCount_v1.0">Fonte</a></p>
<p><a href="https://youtu.be/DJPwV2ge9m0?list=PLkz1SCf5iB4dw3jbRo0SYCk2urRESUA3v">https://youtu.be/DJPwV2ge9m0?list=PLkz1SCf5iB4dw3jbRo0SYCk2urRESUA3v</a></p>
<h2 id="estudo-de-caso-kafka">Estudo de caso: Kafka</h2>
<p><img alt="" src="../images/kafka0.png" /></p>
<div class="admonition quote">
<p class="admonition-title">Quote</p>
<p>Kafka is a distributed streaming platform.</p>
</div>
<ul>
<li>LinkedIn</li>
<li>OpenSource em 2011</li>
<li>Projeto Apache em ????</li>
</ul>
<p><img alt="" src="../images/kafka1.png" /></p>
<p><img alt="" src="../images/kafka2.png" /></p>
<p>Producers x Message Broker x Consumers</p>
<p><img alt="" src="../images/kafka3.png" /></p>
<ul>
<li>Produtores: enviam dados/mensagens/records (array de bytes)</li>
<li>Consumidores: recebem dados</li>
<li>Cluster/Broker: distribuído e tolerantes a falhas.</li>
<li>Conectores: integração simplificada com outras aplicações </li>
<li>Stream processors: spark ou outros frameworks; transformam dados</li>
</ul>
<p>Brokers</p>
<ul>
<li>Cluster de brokers</li>
<li>Distribuído</li>
<li>Tolerante a falhas</li>
<li>Desacoplamento espacial</li>
<li>Desacoplamento temporal</li>
<li>Tópicos, não endereços</li>
</ul>
<p>Tópicos</p>
<ul>
<li>Nome de uma stream de dados: ordem de serviço, exame de sangue, MSFT</li>
<li>Quantidade pode ser imensa.</li>
</ul>
<p>Partição</p>
<ul>
<li>Subdivisões de tópicos</li>
<li>Número de partições é definido por usuário</li>
<li>Cada partição está associada a um único servidor</li>
</ul>
<p>Offset</p>
<ul>
<li>Índice de uma mensagem em uma partição</li>
<li>Índices atribuídos na ordem de chegada</li>
<li>Offsets são locais às partições</li>
<li>Mensagens são unicamente identificadas por (tópico, partição, índice)</li>
</ul>
<p><img alt="" src="../images/kafka4.png" /></p>
<p>Consumer group</p>
<ul>
<li>Carga pode ser muito grande para um consumidor</li>
<li>Compartilham o processamento de um tópico</li>
<li>Cada mensagem é processada por um membro do grupo</li>
<li>A mesma mensagem pode ser processada por múltiplos grupos</li>
<li>Número de consumidores <span class="arithmatex">\(\leq\)</span> partições no tópico</li>
<li>Máximo de dois consumidores por partição (mantem pos. de cada um)</li>
</ul>
<p><img alt="" src="../images/kafka5.png" /></p>
<p>Siga o <a href="http://kafka.apache.org/quickstart">tutorial</a>, até o passo 5.</p>
<ul>
<li>Baixe e descompacte</li>
<li>Rode o zookeeper (Terminal 1)</li>
<li>Rode o Kafka (Terminal 2)</li>
<li>Crie um tópico (Terminal 3) - 
        Mais de uma partição em um servidor</li>
<li>Conecte-se ao Zookeeper e dê uma olhada. O que está vendo?</li>
<li>Liste os tópicos criados</li>
<li>Envie algumas mensagens</li>
<li>Inicie um consumidor (Terminal 4)</li>
</ul>
<h2 id="serverless">Serverless</h2>
<p>Quando voce está desenvolvendo uma aplicação distribuída, você provavelmente pensa em clientes e servidores.
Quando se foca nos servidores, você pensa em um processo, escutando em uma porta, em leituras em sockets, <em>parsing</em> de requisições, invocações de métodos, cálculo de resultados e envio de uma resposta.
Mesmo que você use <em>frameworks</em> que simplifiquem parte deste fluxo, como o gRPC, você ainda deve pensar na criação do servidor, no transporte utilizado, e outros detalhes que não tem a ver com a operação a ser executada.</p>
<p>A ideia da computação "sem servidor" (<em>serverless</em>) e remover todos estes detalhes do seu caminho e deixar que você se preocupe exclusivamente com as operações a serem executadas, as <strong>funções</strong> que tratam suas requisições.
Um dos exemplos desta arquitetura popularizados pela AWS é o seguinte:</p>
<ul>
<li>envie uma imagem para armazenamento na nuvem</li>
<li>quando a mensagem é recebida, várias funções são disparadas para analisá-la<ul>
<li>tagging automático: Tem água? Gato? Rosto? Uberlândia?</li>
<li>sugestão de edições: Horizonte inclinado? Super ou sub-exposta?</li>
<li>sentimento</li>
<li>duplicatas</li>
<li>etc</li>
</ul>
</li>
</ul>
<p>Na arquitetura normal, você deveria escrever um programa que possivelmente siga o seguinte fluxo:</p>
<ul>
<li>Enquanto houver dados a serem lidos<ul>
<li>Leia imagem do socket</li>
<li>Salve imagem</li>
</ul>
</li>
<li>Para toda imagem <span class="arithmatex">\(i\)</span> salva<ul>
<li>auto_tag(<span class="arithmatex">\(i\)</span>)</li>
<li>auto_edit(<span class="arithmatex">\(i\)</span>)</li>
<li>analise_sentimento(<span class="arithmatex">\(i\)</span>)</li>
<li>teste_duplicata(<span class="arithmatex">\(i\)</span>)</li>
<li>...</li>
</ul>
</li>
</ul>
<p>Já na arquitetura <em>serverless</em>, você só precisa escrever as funções em si e associá-las a eventos <strong>nova imagem</strong> e toda vez que uma nova imagem for submetida para o sistema, possivelmente sem ter que escrever código do lado do servidor também, as funções serão executadas na imagem.</p>
<p><img alt="Serverless" src="../drawings/serverless.drawio-0.svg" /></p>
<p>O primeiro serviço deste tipo criado foi o AWS Lambda, que permite que suas funções sejam criadas em diferentes linguagens e enviadas para a nuvem para aguardarem suas entradas.
Obviamente, o <strong>servidor ainda existe</strong>, mas ele é gerado e executado pelo provedor. 
Quando uma nova função é registrada, o servidor é capaz de <strong>multiplexar</strong> novos dados para esta função.
O servidor também é responsável por <strong>limitar o tempo de execução</strong> da função e por calcular por quanto <strong>tempo</strong> a função executou para executar o <strong>faturamento</strong> da mesma.</p>
<p>Amazon pode até ter dado o pontapé inicial da computação <em>serverless</em>, mas a ideia se espalhou e hoje há diversos sistemas equivalentes, tanto no mundo dos provedores de computação em nuvem quanto na comunidade software livre, por exemplo:</p>
<ul>
<li><a href="https://knative.dev/">KNative</a></li>
<li><a href="https://docs.openfaas.com/">OpenFaaS</a></li>
<li><a href="https://openwhisk.apache.org/">OpenWhisk</a></li>
</ul>
<p>A grande vantagem do uso destas soluções livres está no uso de <em>containers</em> para executar seu código, e como containers são suportados em praticamente todos os provedores hoje, é possível migrar suas funções entre provedores ou mesmo combinar diversos provedores em uma única aplicação.</p>
<p>Para overview rápido de um destes projetos, OpenFaaS, assista ao seguinte video</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/yOpYYYRuDQ0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<div class="footnote">
<hr />
<ol>
<li id="fn:nakamoto">
<p>Pseudônimo. Possivelmente mais de uma pessoa.&#160;<a class="footnote-backref" href="#fnref:nakamoto" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:madsmt">
<p><a href="http://www.slideshare.net/quipo/modern-algorithms-and-data-structures-1-bloom-filters-merkle-trees">Modern Algorithms and Data Structures: Merkle Trees</a>&#160;<a class="footnote-backref" href="#fnref:madsmt" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>

  <!-- Last update of source file -->


              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../cases/swim/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Anterior
              </span>
              Swim
            </div>
          </div>
        </a>
      
      
        <a href="../projeto/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Próximo
              </span>
              Projeto
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "..", "features": [], "translations": {"clipboard.copy": "Copiar para \u00e1rea de transfer\u00eancia", "clipboard.copied": "Copiado para \u00e1rea de transfer\u00eancia", "search.config.lang": "pt", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Buscar", "search.result.placeholder": "Digite para iniciar a busca", "search.result.none": "Nenhum resultado encontrado", "search.result.one": "1 resultado encontrado", "search.result.other": "# resultados encontrados", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
        <script src="https://unpkg.com/mermaid@8.5.1/dist/mermaid.min.js"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="../javascripts/mathjaxhelper.js"></script>
      
    
  </body>
</html>